/*! underbar 20-07-2016 */
!function(){function require(a,b,c){var d=require.resolve(a);if(null==d){c=c||a,b=b||"root";var e=new Error('Failed to require "'+c+'" from "'+b+'"');throw e.path=c,e.parent=b,e.require=!0,e}var f=require.modules[d];if(!f._resolving&&!f.exports){var g={};g.exports={},g.client=g.component=!0,f._resolving=!0,f.call(this,g.exports,require.relative(d),g),delete f._resolving,f.exports=g.exports}return f.exports}require.modules={},require.aliases={},require.resolve=function(a){"/"===a.charAt(0)&&(a=a.slice(1));for(var b=[a,a+".js",a+".json",a+"/index.js",a+"/index.json"],c=0;c<b.length;c++){var a=b[c];if(require.modules.hasOwnProperty(a))return a;if(require.aliases.hasOwnProperty(a))return require.aliases[a]}},require.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},require.register=function(a,b){require.modules[a]=b},require.alias=function(a,b){if(!require.modules.hasOwnProperty(a))throw new Error('Failed to alias "'+a+'", it does not exist');require.aliases[b]=a},require.relative=function(a){function b(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function c(b){var d=c.resolve(b);return require(d,a,b)}var d=require.normalize(a,"..");return c.resolve=function(c){var e=c.charAt(0);if("/"==e)return c.slice(1);if("."==e)return require.normalize(d,c);var f=a.split("/"),g=b(f,"deps")+1;return g||(g=0),c=f.slice(0,g+1).join("/")+"/deps/"+c},c.exists=function(a){return require.modules.hasOwnProperty(c.resolve(a))},c},require.register("chaijs-assertion-error/index.js",function(a,b,c){function d(){function a(a,c){Object.keys(c).forEach(function(d){~b.indexOf(d)||(a[d]=c[d])})}var b=[].slice.call(arguments);return function(){for(var b=[].slice.call(arguments),c=0,d={};c<b.length;c++)a(d,b[c]);return d}}function e(a,b,c){var e=d("name","message","stack","constructor","toJSON"),f=e(b||{});this.message=a||"Unspecified AssertionError",this.showDiff=!1;for(var g in f)this[g]=f[g];c=c||arguments.callee,c&&Error.captureStackTrace&&Error.captureStackTrace(this,c)}c.exports=e,e.prototype=Object.create(Error.prototype),e.prototype.name="AssertionError",e.prototype.constructor=e,e.prototype.toJSON=function(a){var b=d("constructor","toJSON","stack"),c=b({name:this.name},this);return!1!==a&&this.stack&&(c.stack=this.stack),c}}),require.register("chaijs-type-detect/lib/type.js",function(a,b,c){function d(a){var b=Object.prototype.toString.call(a);return f[b]?f[b]:null===a?"null":void 0===a?"undefined":a===Object(a)?"object":typeof a}function e(){this.tests={}}var a=c.exports=d,f={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};a.Library=e,e.prototype.of=d,e.prototype.define=function(a,b){return 1===arguments.length?this.tests[a]:(this.tests[a]=b,this)},e.prototype.test=function(a,b){if(b===d(a))return!0;var c=this.tests[b];if(c&&"regexp"===d(c))return c.test(a);if(c&&"function"===d(c))return c(a);throw new ReferenceError('Type test "'+b+'" not defined or invalid.')}}),require.register("chaijs-deep-eql/lib/eql.js",function(a,b,c){function d(a,b,c){return!!e(a,b)||("date"===p(a)?g(a,b):"regexp"===p(a)?h(a,b):o.isBuffer(a)?l(a,b):"arguments"===p(a)?i(a,b,c):!!f(a,b)&&("object"!==p(a)&&"object"!==p(b)&&"array"!==p(a)&&"array"!==p(b)?e(a,b):n(a,b,c)))}function e(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function f(a,b){return p(a)===p(b)}function g(a,b){return"date"===p(b)&&e(a.getTime(),b.getTime())}function h(a,b){return"regexp"===p(b)&&e(a.toString(),b.toString())}function i(a,b,c){return"arguments"===p(b)&&(a=[].slice.call(a),b=[].slice.call(b),d(a,b,c))}function j(a){var b=[];for(var c in a)b.push(c);return b}function k(a,b){if(a.length!==b.length)return!1;for(var c=0,d=!0;c<a.length;c++)if(a[c]!==b[c]){d=!1;break}return d}function l(a,b){return!!o.isBuffer(b)&&k(a,b)}function m(a){return null!==a&&void 0!==a}function n(a,b,c){if(!m(a)||!m(b))return!1;if(a.prototype!==b.prototype)return!1;var e;if(c){for(e=0;e<c.length;e++)if(c[e][0]===a&&c[e][1]===b||c[e][0]===b&&c[e][1]===a)return!0}else c=[];try{var f=j(a),g=j(b)}catch(h){return!1}if(f.sort(),g.sort(),!k(f,g))return!1;c.push([a,b]);var i;for(e=f.length-1;e>=0;e--)if(i=f[e],!d(a[i],b[i],c))return!1;return!0}var o,p=b("type-detect");try{o=b("buffer").Buffer}catch(q){o={},o.isBuffer=function(){return!1}}c.exports=d}),require.register("chai/index.js",function(a,b,c){c.exports=b("./lib/chai")}),require.register("chai/lib/chai.js",function(a,b,c){var d=[],a=c.exports={};a.version="1.8.1",a.AssertionError=b("assertion-error");var e=b("./chai/utils");a.use=function(a){return~d.indexOf(a)||(a(this,e),d.push(a)),this};var f=b("./chai/assertion");a.use(f);var g=b("./chai/core/assertions");a.use(g);var h=b("./chai/interface/expect");a.use(h);var i=b("./chai/interface/should");a.use(i);var j=b("./chai/interface/assert");a.use(j)}),require.register("chai/lib/chai/assertion.js",function(a,b,c){c.exports=function(a,b){function c(a,b,c){e(this,"ssfi",c||arguments.callee),e(this,"object",a),e(this,"message",b)}var d=a.AssertionError,e=b.flag;a.Assertion=c,c.includeStack=!1,c.showDiff=!0,c.addProperty=function(a,c){b.addProperty(this.prototype,a,c)},c.addMethod=function(a,c){b.addMethod(this.prototype,a,c)},c.addChainableMethod=function(a,c,d){b.addChainableMethod(this.prototype,a,c,d)},c.overwriteProperty=function(a,c){b.overwriteProperty(this.prototype,a,c)},c.overwriteMethod=function(a,c){b.overwriteMethod(this.prototype,a,c)},c.overwriteChainableMethod=function(a,c,d){b.overwriteChainableMethod(this.prototype,a,c,d)},c.prototype.assert=function(a,f,g,h,i,j){var k=b.test(this,arguments);if(!0!==j&&(j=!1),!0!==c.showDiff&&(j=!1),!k){var f=b.getMessage(this,arguments),l=b.getActual(this,arguments);throw new d(f,{actual:l,expected:h,showDiff:j},c.includeStack?this.assert:e(this,"ssfi"))}},Object.defineProperty(c.prototype,"_obj",{get:function(){return e(this,"object")},set:function(a){e(this,"object",a)}})}}),require.register("chai/lib/chai/core/assertions.js",function(a,b,c){c.exports=function(a,b){function c(a,c){c&&u(this,"message",c),a=a.toLowerCase();var d=u(this,"object"),e=~["a","e","i","o","u"].indexOf(a.charAt(0))?"an ":"a ";this.assert(a===b.type(d),"expected #{this} to be "+e+a,"expected #{this} not to be "+e+a)}function d(){u(this,"contains",!0)}function e(a,c){c&&u(this,"message",c);var d=u(this,"object");if("object"===b.type(a)){if(!u(this,"negate")){for(var e in a)new t(d).property(e,a[e]);return}var f={};for(var e in a)f[e]=d[e];var g=b.eql(f,a)}else var g=d&&~d.indexOf(a);this.assert(g,"expected #{this} to include "+b.inspect(a),"expected #{this} to not include "+b.inspect(a))}function f(){var a=u(this,"object"),b=Object.prototype.toString.call(a);this.assert("[object Arguments]"===b,"expected #{this} to be arguments but got "+b,"expected #{this} to not be arguments")}function g(a,b){b&&u(this,"message",b);var c=u(this,"object");return u(this,"deep")?this.eql(a):void this.assert(a===c,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",a,this._obj,!0)}function h(a,c){c&&u(this,"message",c),this.assert(b.eql(a,u(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",a,this._obj,!0)}function i(a,b){b&&u(this,"message",b);var c=u(this,"object");if(u(this,"doLength")){new t(c,b).to.have.property("length");var d=c.length;this.assert(d>a,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",a,d)}else this.assert(c>a,"expected #{this} to be above "+a,"expected #{this} to be at most "+a)}function j(a,b){b&&u(this,"message",b);var c=u(this,"object");if(u(this,"doLength")){new t(c,b).to.have.property("length");var d=c.length;this.assert(d>=a,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",a,d)}else this.assert(c>=a,"expected #{this} to be at least "+a,"expected #{this} to be below "+a)}function k(a,b){b&&u(this,"message",b);var c=u(this,"object");if(u(this,"doLength")){new t(c,b).to.have.property("length");var d=c.length;this.assert(d<a,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",a,d)}else this.assert(c<a,"expected #{this} to be below "+a,"expected #{this} to be at least "+a)}function l(a,b){b&&u(this,"message",b);var c=u(this,"object");if(u(this,"doLength")){new t(c,b).to.have.property("length");var d=c.length;this.assert(d<=a,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",a,d)}else this.assert(c<=a,"expected #{this} to be at most "+a,"expected #{this} to be above "+a)}function m(a,c){c&&u(this,"message",c);var d=b.getName(a);this.assert(u(this,"object")instanceof a,"expected #{this} to be an instance of "+d,"expected #{this} to not be an instance of "+d)}function n(a,c){c&&u(this,"message",c);var d=u(this,"object");this.assert(d.hasOwnProperty(a),"expected #{this} to have own property "+b.inspect(a),"expected #{this} to not have own property "+b.inspect(a))}function o(){u(this,"doLength",!0)}function p(a,b){b&&u(this,"message",b);var c=u(this,"object");new t(c,b).to.have.property("length");var d=c.length;this.assert(d==a,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",a,d)}function q(a){var c,d=u(this,"object"),e=!0;if(a=a instanceof Array?a:Array.prototype.slice.call(arguments),!a.length)throw new Error("keys required");var f=Object.keys(d),g=a.length;if(e=a.every(function(a){return~f.indexOf(a)}),u(this,"negate")||u(this,"contains")||(e=e&&a.length==f.length),g>1){a=a.map(function(a){return b.inspect(a)});var h=a.pop();c=a.join(", ")+", and "+h}else c=b.inspect(a[0]);c=(g>1?"keys ":"key ")+c,c=(u(this,"contains")?"contain ":"have ")+c,this.assert(e,"expected #{this} to "+c,"expected #{this} to not "+c)}function r(a,c,d){d&&u(this,"message",d);var e=u(this,"object");new t(e,d).is.a("function");var f=!1,g=null,h=null,i=null;0===arguments.length?(c=null,a=null):a&&(a instanceof RegExp||"string"==typeof a)?(c=a,a=null):a&&a instanceof Error?(g=a,a=null,c=null):"function"==typeof a?(h=a.prototype.name||a.name,"Error"===h&&a!==Error&&(h=(new a).name)):a=null;try{e()}catch(j){if(g)return this.assert(j===g,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",g instanceof Error?g.toString():g,j instanceof Error?j.toString():j),u(this,"object",j),this;if(a&&(this.assert(j instanceof a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",h,j instanceof Error?j.toString():j),!c))return u(this,"object",j),this;var k="object"===b.type(j)&&"message"in j?j.message:""+j;if(null!=k&&c&&c instanceof RegExp)return this.assert(c.exec(k),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",c,k),u(this,"object",j),this;if(null!=k&&c&&"string"==typeof c)return this.assert(~k.indexOf(c),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",c,k),u(this,"object",j),this;f=!0,i=j}var l="",m=null!==h?h:g?"#{exp}":"an error";f&&(l=" but #{act} was thrown"),this.assert(f===!0,"expected #{this} to throw "+m+l,"expected #{this} to not throw "+m+l,g instanceof Error?g.toString():g,i instanceof Error?i.toString():i),u(this,"object",i)}function s(a,b){return a.every(function(a){return b.indexOf(a)!==-1})}var t=a.Assertion,u=(Object.prototype.toString,b.flag);["to","be","been","is","and","has","have","with","that","at","of","same"].forEach(function(a){t.addProperty(a,function(){return this})}),t.addProperty("not",function(){u(this,"negate",!0)}),t.addProperty("deep",function(){u(this,"deep",!0)}),t.addChainableMethod("an",c),t.addChainableMethod("a",c),t.addChainableMethod("include",e,d),t.addChainableMethod("contain",e,d),t.addProperty("ok",function(){this.assert(u(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),t.addProperty("true",function(){this.assert(!0===u(this,"object"),"expected #{this} to be true","expected #{this} to be false",!this.negate)}),t.addProperty("false",function(){this.assert(!1===u(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!this.negate)}),t.addProperty("null",function(){this.assert(null===u(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),t.addProperty("undefined",function(){this.assert(void 0===u(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),t.addProperty("exist",function(){this.assert(null!=u(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),t.addProperty("empty",function(){var a=u(this,"object"),b=a;Array.isArray(a)||"string"==typeof object?b=a.length:"object"==typeof a&&(b=Object.keys(a).length),this.assert(!b,"expected #{this} to be empty","expected #{this} not to be empty")}),t.addProperty("arguments",f),t.addProperty("Arguments",f),t.addMethod("equal",g),t.addMethod("equals",g),t.addMethod("eq",g),t.addMethod("eql",h),t.addMethod("eqls",h),t.addMethod("above",i),t.addMethod("gt",i),t.addMethod("greaterThan",i),t.addMethod("least",j),t.addMethod("gte",j),t.addMethod("below",k),t.addMethod("lt",k),t.addMethod("lessThan",k),t.addMethod("most",l),t.addMethod("lte",l),t.addMethod("within",function(a,b,c){c&&u(this,"message",c);var d=u(this,"object"),e=a+".."+b;if(u(this,"doLength")){new t(d,c).to.have.property("length");var f=d.length;this.assert(f>=a&&f<=b,"expected #{this} to have a length within "+e,"expected #{this} to not have a length within "+e)}else this.assert(d>=a&&d<=b,"expected #{this} to be within "+e,"expected #{this} to not be within "+e)}),t.addMethod("instanceof",m),t.addMethod("instanceOf",m),t.addMethod("property",function(a,c,d){d&&u(this,"message",d);var e=u(this,"deep")?"deep property ":"property ",f=u(this,"negate"),g=u(this,"object"),h=u(this,"deep")?b.getPathValue(a,g):g[a];if(f&&void 0!==c){if(void 0===h)throw d=null!=d?d+": ":"",new Error(d+b.inspect(g)+" has no "+e+b.inspect(a))}else this.assert(void 0!==h,"expected #{this} to have a "+e+b.inspect(a),"expected #{this} to not have "+e+b.inspect(a));void 0!==c&&this.assert(c===h,"expected #{this} to have a "+e+b.inspect(a)+" of #{exp}, but got #{act}","expected #{this} to not have a "+e+b.inspect(a)+" of #{act}",c,h),u(this,"object",h)}),t.addMethod("ownProperty",n),t.addMethod("haveOwnProperty",n),t.addChainableMethod("length",p,o),t.addMethod("lengthOf",p,o),t.addMethod("match",function(a,b){b&&u(this,"message",b);var c=u(this,"object");this.assert(a.exec(c),"expected #{this} to match "+a,"expected #{this} not to match "+a)}),t.addMethod("string",function(a,c){c&&u(this,"message",c);var d=u(this,"object");new t(d,c).is.a("string"),this.assert(~d.indexOf(a),"expected #{this} to contain "+b.inspect(a),"expected #{this} to not contain "+b.inspect(a))}),t.addMethod("keys",q),t.addMethod("key",q),t.addMethod("throw",r),t.addMethod("throws",r),t.addMethod("Throw",r),t.addMethod("respondTo",function(a,c){c&&u(this,"message",c);var d=u(this,"object"),e=u(this,"itself"),f="function"!==b.type(d)||e?d[a]:d.prototype[a];this.assert("function"==typeof f,"expected #{this} to respond to "+b.inspect(a),"expected #{this} to not respond to "+b.inspect(a))}),t.addProperty("itself",function(){u(this,"itself",!0)}),t.addMethod("satisfy",function(a,c){c&&u(this,"message",c);var d=u(this,"object");this.assert(a(d),"expected #{this} to satisfy "+b.objDisplay(a),"expected #{this} to not satisfy"+b.objDisplay(a),!this.negate,a(d))}),t.addMethod("closeTo",function(a,b,c){c&&u(this,"message",c);var d=u(this,"object");this.assert(Math.abs(d-a)<=b,"expected #{this} to be close to "+a+" +/- "+b,"expected #{this} not to be close to "+a+" +/- "+b)}),t.addMethod("members",function(a,b){b&&u(this,"message",b);var c=u(this,"object");return new t(c).to.be.an("array"),new t(a).to.be.an("array"),u(this,"contains")?this.assert(s(a,c),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",c,a):void this.assert(s(c,a)&&s(a,c),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",c,a)})}}),require.register("chai/lib/chai/interface/assert.js",function(exports,require,module){module.exports=function(chai,util){var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(a,b){var c=new Assertion(null);c.assert(a,b,"[ negation message unavailable ]")};assert.fail=function(a,b,c,d){throw c=c||"assert.fail()",new chai.AssertionError(c,{actual:a,expected:b,operator:d},assert.fail)},assert.ok=function(a,b){new Assertion(a,b).is.ok},assert.notOk=function(a,b){new Assertion(a,b).is.not.ok},assert.equal=function(a,b,c){var d=new Assertion(a,c);d.assert(b==flag(d,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",b,a)},assert.notEqual=function(a,b,c){var d=new Assertion(a,c);d.assert(b!=flag(d,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",b,a)},assert.strictEqual=function(a,b,c){new Assertion(a,c).to.equal(b)},assert.notStrictEqual=function(a,b,c){new Assertion(a,c).to.not.equal(b)},assert.deepEqual=function(a,b,c){new Assertion(a,c).to.eql(b)},assert.notDeepEqual=function(a,b,c){new Assertion(a,c).to.not.eql(b)},assert.isTrue=function(a,b){new Assertion(a,b).is["true"]},assert.isFalse=function(a,b){new Assertion(a,b).is["false"]},assert.isNull=function(a,b){new Assertion(a,b).to.equal(null)},assert.isNotNull=function(a,b){new Assertion(a,b).to.not.equal(null)},assert.isUndefined=function(a,b){new Assertion(a,b).to.equal(void 0)},assert.isDefined=function(a,b){new Assertion(a,b).to.not.equal(void 0)},assert.isFunction=function(a,b){new Assertion(a,b).to.be.a("function")},assert.isNotFunction=function(a,b){new Assertion(a,b).to.not.be.a("function")},assert.isObject=function(a,b){new Assertion(a,b).to.be.a("object")},assert.isNotObject=function(a,b){new Assertion(a,b).to.not.be.a("object")},assert.isArray=function(a,b){new Assertion(a,b).to.be.an("array")},assert.isNotArray=function(a,b){new Assertion(a,b).to.not.be.an("array")},assert.isString=function(a,b){new Assertion(a,b).to.be.a("string")},assert.isNotString=function(a,b){new Assertion(a,b).to.not.be.a("string")},assert.isNumber=function(a,b){new Assertion(a,b).to.be.a("number")},assert.isNotNumber=function(a,b){new Assertion(a,b).to.not.be.a("number")},assert.isBoolean=function(a,b){new Assertion(a,b).to.be.a("boolean")},assert.isNotBoolean=function(a,b){new Assertion(a,b).to.not.be.a("boolean")},assert.typeOf=function(a,b,c){new Assertion(a,c).to.be.a(b)},assert.notTypeOf=function(a,b,c){new Assertion(a,c).to.not.be.a(b)},assert.instanceOf=function(a,b,c){new Assertion(a,c).to.be.instanceOf(b)},assert.notInstanceOf=function(a,b,c){new Assertion(a,c).to.not.be.instanceOf(b)},assert.include=function(a,b,c){new Assertion(a,c).include(b)},assert.notInclude=function(a,b,c){new Assertion(a,c).not.include(b)},assert.match=function(a,b,c){new Assertion(a,c).to.match(b)},assert.notMatch=function(a,b,c){new Assertion(a,c).to.not.match(b)},assert.property=function(a,b,c){new Assertion(a,c).to.have.property(b)},assert.notProperty=function(a,b,c){new Assertion(a,c).to.not.have.property(b)},assert.deepProperty=function(a,b,c){new Assertion(a,c).to.have.deep.property(b)},assert.notDeepProperty=function(a,b,c){new Assertion(a,c).to.not.have.deep.property(b)},assert.propertyVal=function(a,b,c,d){new Assertion(a,d).to.have.property(b,c)},assert.propertyNotVal=function(a,b,c,d){new Assertion(a,d).to.not.have.property(b,c)},assert.deepPropertyVal=function(a,b,c,d){new Assertion(a,d).to.have.deep.property(b,c)},assert.deepPropertyNotVal=function(a,b,c,d){new Assertion(a,d).to.not.have.deep.property(b,c)},assert.lengthOf=function(a,b,c){new Assertion(a,c).to.have.length(b)},assert.Throw=function(a,b,c,d){("string"==typeof b||b instanceof RegExp)&&(c=b,b=null);var e=new Assertion(a,d).to.Throw(b,c);return flag(e,"object")},assert.doesNotThrow=function(a,b,c){"string"==typeof b&&(c=b,b=null),new Assertion(a,c).to.not.Throw(b)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(a,b,c,d){new Assertion(a,d).to.be.closeTo(b,c)},assert.sameMembers=function(a,b,c){new Assertion(a,c).to.have.same.members(b)},assert.includeMembers=function(a,b,c){new Assertion(a,c).to.include.members(b)},assert.ifError=function(a,b){new Assertion(a,b).to.not.be.ok},function a(b,c){return assert[c]=assert[b],a}("Throw","throw")("Throw","throws")}}),require.register("chai/lib/chai/interface/expect.js",function(a,b,c){c.exports=function(a,b){a.expect=function(b,c){return new a.Assertion(b,c)}}}),require.register("chai/lib/chai/interface/should.js",function(a,b,c){c.exports=function(a,b){function c(){Object.defineProperty(Object.prototype,"should",{set:function(a){Object.defineProperty(this,"should",{value:a,enumerable:!0,configurable:!0,writable:!0})},get:function(){return new d(this instanceof String||this instanceof Number?this.constructor(this):this instanceof Boolean?1==this:this)},configurable:!0});var a={};return a.equal=function(a,b,c){new d(a,c).to.equal(b)},a.Throw=function(a,b,c,e){new d(a,e).to.Throw(b,c)},a.exist=function(a,b){new d(a,b).to.exist},a.not={},a.not.equal=function(a,b,c){new d(a,c).to.not.equal(b)},a.not.Throw=function(a,b,c,e){new d(a,e).to.not.Throw(b,c)},a.not.exist=function(a,b){new d(a,b).to.not.exist},a["throw"]=a.Throw,a.not["throw"]=a.not.Throw,a}var d=a.Assertion;a.should=c,a.Should=c}}),require.register("chai/lib/chai/utils/addChainableMethod.js",function(a,b,c){var d=b("./transferFlags"),e="__proto__"in Object,f=/^(?:length|name|arguments|caller)$/,g=Function.prototype.call,h=Function.prototype.apply;c.exports=function(a,b,c,i){"function"!=typeof i&&(i=function(){});var j={method:c,chainingBehavior:i};a.__methods||(a.__methods={}),a.__methods[b]=j,Object.defineProperty(a,b,{get:function(){j.chainingBehavior.call(this);var b=function(){var a=j.method.apply(this,arguments);return void 0===a?this:a};if(e){var c=b.__proto__=Object.create(this);c.call=g,c.apply=h}else{var i=Object.getOwnPropertyNames(a);i.forEach(function(c){if(!f.test(c)){var d=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(b,c,d)}})}return d(this,b),b},configurable:!0})}}),require.register("chai/lib/chai/utils/addMethod.js",function(a,b,c){c.exports=function(a,b,c){a[b]=function(){var a=c.apply(this,arguments);return void 0===a?this:a}}}),require.register("chai/lib/chai/utils/addProperty.js",function(a,b,c){c.exports=function(a,b,c){Object.defineProperty(a,b,{get:function(){var a=c.call(this);return void 0===a?this:a},configurable:!0})}}),require.register("chai/lib/chai/utils/flag.js",function(a,b,c){c.exports=function(a,b,c){var d=a.__flags||(a.__flags=Object.create(null));return 3!==arguments.length?d[b]:void(d[b]=c)}}),require.register("chai/lib/chai/utils/getActual.js",function(a,b,c){c.exports=function(a,b){var c=b[4];return"undefined"!=typeof c?c:a._obj}}),require.register("chai/lib/chai/utils/getEnumerableProperties.js",function(a,b,c){c.exports=function(a){var b=[];for(var c in a)b.push(c);return b}}),require.register("chai/lib/chai/utils/getMessage.js",function(a,b,c){var d=b("./flag"),e=b("./getActual"),f=(b("./inspect"),b("./objDisplay"));c.exports=function(a,b){var c=d(a,"negate"),g=d(a,"object"),h=b[3],i=e(a,b),j=c?b[2]:b[1],k=d(a,"message");return j=j||"",j=j.replace(/#{this}/g,f(g)).replace(/#{act}/g,f(i)).replace(/#{exp}/g,f(h)),k?k+": "+j:j}}),require.register("chai/lib/chai/utils/getName.js",function(a,b,c){c.exports=function(a){if(a.name)return a.name;var b=/^\s?function ([^(]*)\(/.exec(a);return b&&b[1]?b[1]:""}}),require.register("chai/lib/chai/utils/getPathValue.js",function(a,b,c){function d(a){var b=a.replace(/\[/g,".["),c=b.match(/(\\\.|[^.]+?)+/g);return c.map(function(a){var b=/\[(\d+)\]$/,c=b.exec(a);return c?{i:parseFloat(c[1])}:{p:a}})}function e(a,b){for(var c,d=b,e=0,f=a.length;e<f;e++){var g=a[e];d?("undefined"!=typeof g.p?d=d[g.p]:"undefined"!=typeof g.i&&(d=d[g.i]),e==f-1&&(c=d)):c=void 0}return c}c.exports=function(a,b){var c=d(a);return e(c,b)}}),require.register("chai/lib/chai/utils/getProperties.js",function(a,b,c){c.exports=function(a){function b(a){c.indexOf(a)===-1&&c.push(a)}for(var c=Object.getOwnPropertyNames(subject),d=Object.getPrototypeOf(subject);null!==d;)Object.getOwnPropertyNames(d).forEach(b),d=Object.getPrototypeOf(d);return c}}),require.register("chai/lib/chai/utils/index.js",function(a,b,c){var a=c.exports={};a.test=b("./test"),a.type=b("./type"),a.getMessage=b("./getMessage"),a.getActual=b("./getActual"),a.inspect=b("./inspect"),a.objDisplay=b("./objDisplay"),a.flag=b("./flag"),a.transferFlags=b("./transferFlags"),a.eql=b("deep-eql"),a.getPathValue=b("./getPathValue"),a.getName=b("./getName"),a.addProperty=b("./addProperty"),a.addMethod=b("./addMethod"),a.overwriteProperty=b("./overwriteProperty"),a.overwriteMethod=b("./overwriteMethod"),a.addChainableMethod=b("./addChainableMethod"),a.overwriteChainableMethod=b("./overwriteChainableMethod")}),require.register("chai/lib/chai/utils/inspect.js",function(a,b,c){function d(a,b,c,d){var f={showHidden:b,seen:[],stylize:function(a){return a}};return e(f,a,"undefined"==typeof c?2:c)}function e(b,c,d){if(c&&"function"==typeof c.inspect&&c.inspect!==a.inspect&&(!c.constructor||c.constructor.prototype!==c)){var o=c.inspect(d);return"string"!=typeof o&&(o=e(b,o,d)),o}var u=f(b,c);if(u)return u;if(t(c))return s(c);var v=r(c),w=b.showHidden?q(c):v;if(0===w.length||n(c)&&(1===w.length&&"stack"===w[0]||2===w.length&&"description"===w[0]&&"stack"===w[1])){if("function"==typeof c){var x=p(c),y=x?": "+x:"";return b.stylize("[Function"+y+"]","special")}if(l(c))return b.stylize(RegExp.prototype.toString.call(c),"regexp");if(m(c))return b.stylize(Date.prototype.toUTCString.call(c),"date");if(n(c))return g(c)}var z="",A=!1,B=["{","}"];if(k(c)&&(A=!0,B=["[","]"]),"function"==typeof c){var x=p(c),y=x?": "+x:"";z=" [Function"+y+"]"}if(l(c)&&(z=" "+RegExp.prototype.toString.call(c)),m(c)&&(z=" "+Date.prototype.toUTCString.call(c)),n(c))return g(c);if(0===w.length&&(!A||0==c.length))return B[0]+z+B[1];if(d<0)return l(c)?b.stylize(RegExp.prototype.toString.call(c),"regexp"):b.stylize("[Object]","special");b.seen.push(c);var C;return C=A?h(b,c,d,v,w):w.map(function(a){return i(b,c,d,v,a,A)}),b.seen.pop(),j(C,z,B)}function f(a,b){switch(typeof b){case"undefined":return a.stylize("undefined","undefined");case"string":var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string");case"number":return a.stylize(""+b,"number");case"boolean":return a.stylize(""+b,"boolean")}if(null===b)return a.stylize("null","null")}function g(a){return"["+Error.prototype.toString.call(a)+"]"}function h(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)Object.prototype.hasOwnProperty.call(b,String(g))?f.push(i(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(i(a,b,c,d,e,!0))}),f}function i(a,b,c,d,f,g){var h,i;if(b.__lookupGetter__&&(b.__lookupGetter__(f)?i=b.__lookupSetter__(f)?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.__lookupSetter__(f)&&(i=a.stylize("[Setter]","special"))),d.indexOf(f)<0&&(h="["+f+"]"),i||(a.seen.indexOf(b[f])<0?(i=null===c?e(a,b[f],null):e(a,b[f],c-1),i.indexOf("\n")>-1&&(i=g?i.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+i.split("\n").map(function(a){return"   "+a}).join("\n"))):i=a.stylize("[Circular]","special")),"undefined"==typeof h){if(g&&f.match(/^\d+$/))return i;h=JSON.stringify(""+f),h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=a.stylize(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.stylize(h,"string"))}return h+": "+i}function j(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function k(a){return Array.isArray(a)||"object"==typeof a&&"[object Array]"===o(a)}function l(a){return"object"==typeof a&&"[object RegExp]"===o(a)}function m(a){return"object"==typeof a&&"[object Date]"===o(a)}function n(a){return"object"==typeof a&&"[object Error]"===o(a)}function o(a){return Object.prototype.toString.call(a)}var p=b("./getName"),q=b("./getProperties"),r=b("./getEnumerableProperties");c.exports=d;var s=function(a){if("outerHTML"in a)return a.outerHTML;var b,c="http://www.w3.org/1999/xhtml",d=document.createElementNS(c,"_"),e=((window.HTMLElement||window.Element).prototype,new XMLSerializer);return document.xmlVersion?e.serializeToString(a):(d.appendChild(a.cloneNode(!1)),b=d.innerHTML.replace("><",">"+a.innerHTML+"<"),d.innerHTML="",b)},t=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName}}),require.register("chai/lib/chai/utils/objDisplay.js",function(a,b,c){var d=b("./inspect");c.exports=function(a){var b=d(a),c=Object.prototype.toString.call(a);if(b.length>=40){if("[object Function]"===c)return a.name&&""!==a.name?"[Function: "+a.name+"]":"[Function]";if("[object Array]"===c)return"[ Array("+a.length+") ]";if("[object Object]"===c){var e=Object.keys(a),f=e.length>2?e.splice(0,2).join(", ")+", ...":e.join(", ");return"{ Object ("+f+") }"}return b}return b}}),require.register("chai/lib/chai/utils/overwriteMethod.js",function(a,b,c){c.exports=function(a,b,c){var d=a[b],e=function(){return this};d&&"function"==typeof d&&(e=d),a[b]=function(){var a=c(e).apply(this,arguments);return void 0===a?this:a}}}),require.register("chai/lib/chai/utils/overwriteProperty.js",function(a,b,c){c.exports=function(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b),e=function(){};d&&"function"==typeof d.get&&(e=d.get),Object.defineProperty(a,b,{get:function(){var a=c(e).call(this);return void 0===a?this:a},configurable:!0})}}),require.register("chai/lib/chai/utils/overwriteChainableMethod.js",function(a,b,c){c.exports=function(a,b,c,d){var e=a.__methods[b],f=e.chainingBehavior;e.chainingBehavior=function(){var a=d(f).call(this);return void 0===a?this:a};var g=e.method;e.method=function(){var a=c(g).apply(this,arguments);return void 0===a?this:a}}}),require.register("chai/lib/chai/utils/test.js",function(a,b,c){var d=b("./flag");c.exports=function(a,b){var c=d(a,"negate"),e=b[0];return c?!e:e}}),require.register("chai/lib/chai/utils/transferFlags.js",function(a,b,c){c.exports=function(a,b,c){var d=a.__flags||(a.__flags=Object.create(null));b.__flags||(b.__flags=Object.create(null)),c=3!==arguments.length||c;for(var e in d)(c||"object"!==e&&"ssfi"!==e&&"message"!=e)&&(b.__flags[e]=d[e])}}),require.register("chai/lib/chai/utils/type.js",function(a,b,c){var d={"[object Arguments]":"arguments","[object Array]":"array","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object RegExp]":"regexp","[object String]":"string"};c.exports=function(a){var b=Object.prototype.toString.call(a);return d[b]?d[b]:null===a?"null":void 0===a?"undefined":a===Object(a)?"object":typeof a}}),require.alias("chaijs-assertion-error/index.js","chai/deps/assertion-error/index.js"),require.alias("chaijs-assertion-error/index.js","chai/deps/assertion-error/index.js"),
require.alias("chaijs-assertion-error/index.js","assertion-error/index.js"),require.alias("chaijs-assertion-error/index.js","chaijs-assertion-error/index.js"),require.alias("chaijs-deep-eql/lib/eql.js","chai/deps/deep-eql/lib/eql.js"),require.alias("chaijs-deep-eql/lib/eql.js","chai/deps/deep-eql/index.js"),require.alias("chaijs-deep-eql/lib/eql.js","deep-eql/index.js"),require.alias("chaijs-type-detect/lib/type.js","chaijs-deep-eql/deps/type-detect/lib/type.js"),require.alias("chaijs-type-detect/lib/type.js","chaijs-deep-eql/deps/type-detect/index.js"),require.alias("chaijs-type-detect/lib/type.js","chaijs-type-detect/index.js"),require.alias("chaijs-deep-eql/lib/eql.js","chaijs-deep-eql/index.js"),require.alias("chai/index.js","chai/index.js"),"object"==typeof exports?module.exports=require("chai"):"function"==typeof define&&define.amd?define([],function(){return require("chai")}):this.chai=require("chai")}(),function(){function a(b){var c=a.resolve(b),d=a.modules[c];if(!d)throw new Error('failed to require "'+b+'"');return d.exports||(d.exports={},d.call(d.exports,d,d.exports,a.relative(c))),d.exports}function b(){for(var a=(new c).getTime();j.length&&(new c).getTime()-a<100;)j.shift()();i=j.length?d(b,0):null}a.modules={},a.resolve=function(b){var c=b,d=b+".js",e=b+"/index.js";return a.modules[d]&&d||a.modules[e]&&e||c},a.register=function(b,c){a.modules[b]=c},a.relative=function(b){return function(c){if("."!=c.charAt(0))return a(c);var d=b.split("/"),e=c.split("/");d.pop();for(var f=0;f<e.length;f++){var g=e[f];".."==g?d.pop():"."!=g&&d.push(g)}return a(d.join("/"))}},a.register("browser/debug.js",function(a,b,c){a.exports=function(a){return function(){}}}),a.register("browser/diff.js",function(a,b,c){var d=function(){function a(a){return{newPos:a.newPos,components:a.components.slice(0)}}function b(a){for(var b=[],c=0;c<a.length;c++)a[c]&&b.push(a[c]);return b}function c(a){var b=a;return b=b.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;")}var d=function(a){this.ignoreWhitespace=a};d.prototype={diff:function(b,c){if(c===b)return[{value:c}];if(!c)return[{value:b,removed:!0}];if(!b)return[{value:c,added:!0}];c=this.tokenize(c),b=this.tokenize(b);var d=c.length,e=b.length,f=d+e,g=[{newPos:-1,components:[]}],h=this.extractCommon(g[0],c,b,0);if(g[0].newPos+1>=d&&h+1>=e)return g[0].components;for(var i=1;i<=f;i++)for(var j=-1*i;j<=i;j+=2){var k,l=g[j-1],m=g[j+1];h=(m?m.newPos:0)-j,l&&(g[j-1]=void 0);var n=l&&l.newPos+1<d,o=m&&0<=h&&h<e;if(n||o){!n||o&&l.newPos<m.newPos?(k=a(m),this.pushComponent(k.components,b[h],void 0,!0)):(k=a(l),k.newPos++,this.pushComponent(k.components,c[k.newPos],!0,void 0));var h=this.extractCommon(k,c,b,j);if(k.newPos+1>=d&&h+1>=e)return k.components;g[j]=k}else g[j]=void 0}},pushComponent:function(a,b,c,d){var e=a[a.length-1];e&&e.added===c&&e.removed===d?a[a.length-1]={value:this.join(e.value,b),added:c,removed:d}:a.push({value:b,added:c,removed:d})},extractCommon:function(a,b,c,d){for(var e=b.length,f=c.length,g=a.newPos,h=g-d;g+1<e&&h+1<f&&this.equals(b[g+1],c[h+1]);)g++,h++,this.pushComponent(a.components,b[g],void 0,void 0);return a.newPos=g,h},equals:function(a,b){var c=/\S/;return!(!this.ignoreWhitespace||c.test(a)||c.test(b))||a===b},join:function(a,b){return a+b},tokenize:function(a){return a}};var e=new d,f=new d((!0)),g=new d;f.tokenize=g.tokenize=function(a){return b(a.split(/(\s+|\b)/))};var h=new d((!0));h.tokenize=function(a){return b(a.split(/([{}:;,]|\s+)/))};var i=new d;return i.tokenize=function(a){return a.split(/^/m)},{Diff:d,diffChars:function(a,b){return e.diff(a,b)},diffWords:function(a,b){return f.diff(a,b)},diffWordsWithSpace:function(a,b){return g.diff(a,b)},diffLines:function(a,b){return i.diff(a,b)},diffCss:function(a,b){return h.diff(a,b)},createPatch:function(a,b,c,d,e){function f(a){return a.map(function(a){return" "+a})}function g(a,b,c){var d=j[j.length-2],e=b===j.length-2,f=b===j.length-3&&(c.added!==d.added||c.removed!==d.removed);/\n$/.test(c.value)||!e&&!f||a.push("\\ No newline at end of file")}var h=[];h.push("Index: "+a),h.push("==================================================================="),h.push("--- "+a+("undefined"==typeof d?"":"\t"+d)),h.push("+++ "+a+("undefined"==typeof e?"":"\t"+e));var j=i.diff(b,c);j[j.length-1].value||j.pop(),j.push({value:"",lines:[]});for(var k=0,l=0,m=[],n=1,o=1,p=0;p<j.length;p++){var q=j[p],r=q.lines||q.value.replace(/\n$/,"").split("\n");if(q.lines=r,q.added||q.removed){if(!k){var s=j[p-1];k=n,l=o,s&&(m=f(s.lines.slice(-4)),k-=m.length,l-=m.length)}m.push.apply(m,r.map(function(a){return(q.added?"+":"-")+a})),g(m,p,q),q.added?o+=r.length:n+=r.length}else{if(k)if(r.length<=8&&p<j.length-2)m.push.apply(m,f(r));else{var t=Math.min(r.length,4);h.push("@@ -"+k+","+(n-k+t)+" +"+l+","+(o-l+t)+" @@"),h.push.apply(h,m),h.push.apply(h,f(r.slice(0,t))),r.length<=4&&g(h,p,q),k=0,l=0,m=[]}n+=r.length,o+=r.length}}return h.join("\n")+"\n"},applyPatch:function(a,b){for(var c=b.split("\n"),d=[],e=!1,f=!1,g="I"===c[0][0]?4:0;g<c.length;g++)if("@"===c[g][0]){var h=c[g].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);d.unshift({start:h[3],oldlength:h[2],oldlines:[],newlength:h[4],newlines:[]})}else"+"===c[g][0]?d[0].newlines.push(c[g].substr(1)):"-"===c[g][0]?d[0].oldlines.push(c[g].substr(1)):" "===c[g][0]?(d[0].newlines.push(c[g].substr(1)),d[0].oldlines.push(c[g].substr(1))):"\\"===c[g][0]&&("+"===c[g-1][0]?e=!0:"-"===c[g-1][0]&&(f=!0));for(var i=a.split("\n"),g=d.length-1;g>=0;g--){for(var j=d[g],k=0;k<j.oldlength;k++)if(i[j.start-1+k]!==j.oldlines[k])return!1;Array.prototype.splice.apply(i,[j.start-1,+j.oldlength].concat(j.newlines))}if(e)for(;!i[i.length-1];)i.pop();else f&&i.push("");return i.join("\n")},convertChangesToXML:function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];e.added?b.push("<ins>"):e.removed&&b.push("<del>"),b.push(c(e.value)),e.added?b.push("</ins>"):e.removed&&b.push("</del>")}return b.join("")},convertChangesToDMP:function(a){for(var b,c=[],d=0;d<a.length;d++)b=a[d],c.push([b.added?1:b.removed?-1:0,b.value]);return c}}}();"undefined"!=typeof a&&(a.exports=d)}),a.register("browser/events.js",function(a,b,c){function d(a){return"[object Array]"=={}.toString.call(a)}function e(){}b.EventEmitter=e,e.prototype.on=function(a,b){return this.$events||(this.$events={}),this.$events[a]?d(this.$events[a])?this.$events[a].push(b):this.$events[a]=[this.$events[a],b]:this.$events[a]=b,this},e.prototype.addListener=e.prototype.on,e.prototype.once=function(a,b){function c(){d.removeListener(a,c),b.apply(this,arguments)}var d=this;return c.listener=b,this.on(a,c),this},e.prototype.removeListener=function(a,b){if(this.$events&&this.$events[a]){var c=this.$events[a];if(d(c)){for(var e=-1,f=0,g=c.length;f<g;f++)if(c[f]===b||c[f].listener&&c[f].listener===b){e=f;break}if(e<0)return this;c.splice(e,1),c.length||delete this.$events[a]}else(c===b||c.listener&&c.listener===b)&&delete this.$events[a]}return this},e.prototype.removeAllListeners=function(a){return void 0===a?(this.$events={},this):(this.$events&&this.$events[a]&&(this.$events[a]=null),this)},e.prototype.listeners=function(a){return this.$events||(this.$events={}),this.$events[a]||(this.$events[a]=[]),d(this.$events[a])||(this.$events[a]=[this.$events[a]]),this.$events[a]},e.prototype.emit=function(a){if(!this.$events)return!1;var b=this.$events[a];if(!b)return!1;var c=[].slice.call(arguments,1);if("function"==typeof b)b.apply(this,c);else{if(!d(b))return!1;for(var e=b.slice(),f=0,g=e.length;f<g;f++)e[f].apply(this,c)}return!0}}),a.register("browser/fs.js",function(a,b,c){}),a.register("browser/path.js",function(a,b,c){}),a.register("browser/progress.js",function(a,b,c){function d(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}a.exports=d,d.prototype.size=function(a){return this._size=a,this},d.prototype.text=function(a){return this._text=a,this},d.prototype.fontSize=function(a){return this._fontSize=a,this},d.prototype.font=function(a){return this._font=a,this},d.prototype.update=function(a){return this.percent=a,this},d.prototype.draw=function(a){try{var b=Math.min(this.percent,100),c=this._size,d=c/2,e=d,f=d,g=d-1,h=this._fontSize;a.font=h+"px "+this._font;var i=2*Math.PI*(b/100);a.clearRect(0,0,c,c),a.strokeStyle="#9f9f9f",a.beginPath(),a.arc(e,f,g,0,i,!1),a.stroke(),a.strokeStyle="#eee",a.beginPath(),a.arc(e,f,g-1,0,i,!0),a.stroke();var j=this._text||(0|b)+"%",k=a.measureText(j).width;a.fillText(j,e-k/2+1,f+h/2-1)}catch(l){}return this}}),a.register("browser/tty.js",function(a,b,c){b.isatty=function(){return!0},b.getWindowSize=function(){return"innerHeight"in global?[global.innerHeight,global.innerWidth]:[640,480]}}),a.register("context.js",function(a,b,c){function d(){}a.exports=d,d.prototype.runnable=function(a){return 0==arguments.length?this._runnable:(this.test=this._runnable=a,this)},d.prototype.timeout=function(a){return this.runnable().timeout(a),this},d.prototype.slow=function(a){return this.runnable().slow(a),this},d.prototype.inspect=function(){return JSON.stringify(this,function(a,b){if("_runnable"!=a&&"test"!=a)return b},2)}}),a.register("hook.js",function(a,b,c){function d(a,b){f.call(this,a,b),this.type="hook"}function e(){}var f=c("./runnable");a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d,d.prototype.error=function(a){if(0==arguments.length){var a=this._error;return this._error=null,a}this._error=a}}),a.register("interfaces/bdd.js",function(a,b,c){var d=c("../suite"),e=c("../test"),f=c("../utils");a.exports=function(a){var b=[a];a.on("pre-require",function(a,c,g){a.before=function(a){b[0].beforeAll(a)},a.after=function(a){b[0].afterAll(a)},a.beforeEach=function(a){b[0].beforeEach(a)},a.afterEach=function(a){b[0].afterEach(a)},a.describe=a.context=function(a,c){var e=d.create(b[0],a);return b.unshift(e),c.call(e),b.shift(),e},a.xdescribe=a.xcontext=a.describe.skip=function(a,c){var e=d.create(b[0],a);e.pending=!0,b.unshift(e),c.call(e),b.shift()},a.describe.only=function(b,c){var d=a.describe(b,c);return g.grep(d.fullTitle()),d},a.it=a.specify=function(a,c){var d=b[0];if(d.pending)var c=null;var f=new e(a,c);return d.addTest(f),f},a.it.only=function(b,c){var d=a.it(b,c),e="^"+f.escapeRegexp(d.fullTitle())+"$";return g.grep(new RegExp(e)),d},a.xit=a.xspecify=a.it.skip=function(b){a.it(b)}})}}),a.register("interfaces/exports.js",function(a,b,c){var d=c("../suite"),e=c("../test");a.exports=function(a){function b(a){var f;for(var g in a)if("function"==typeof a[g]){var h=a[g];switch(g){case"before":c[0].beforeAll(h);break;case"after":c[0].afterAll(h);break;case"beforeEach":c[0].beforeEach(h);break;case"afterEach":c[0].afterEach(h);break;default:c[0].addTest(new e(g,h))}}else{var f=d.create(c[0],g);c.unshift(f),b(a[g]),c.shift()}}var c=[a];a.on("require",b)}}),a.register("interfaces/index.js",function(a,b,c){b.bdd=c("./bdd"),b.tdd=c("./tdd"),b.qunit=c("./qunit"),b.exports=c("./exports")}),a.register("interfaces/qunit.js",function(a,b,c){var d=c("../suite"),e=c("../test"),f=c("../utils");a.exports=function(a){var b=[a];a.on("pre-require",function(a,c,g){a.before=function(a){b[0].beforeAll(a)},a.after=function(a){b[0].afterAll(a)},a.beforeEach=function(a){b[0].beforeEach(a)},a.afterEach=function(a){b[0].afterEach(a)},a.suite=function(a){b.length>1&&b.shift();var c=d.create(b[0],a);return b.unshift(c),c},a.suite.only=function(b,c){var d=a.suite(b,c);g.grep(d.fullTitle())},a.test=function(a,c){var d=new e(a,c);return b[0].addTest(d),d},a.test.only=function(b,c){var d=a.test(b,c),e="^"+f.escapeRegexp(d.fullTitle())+"$";g.grep(new RegExp(e))},a.test.skip=function(b){a.test(b)}})}}),a.register("interfaces/tdd.js",function(a,b,c){var d=c("../suite"),e=c("../test"),f=c("../utils");a.exports=function(a){var b=[a];a.on("pre-require",function(a,c,g){a.setup=function(a){b[0].beforeEach(a)},a.teardown=function(a){b[0].afterEach(a)},a.suiteSetup=function(a){b[0].beforeAll(a)},a.suiteTeardown=function(a){b[0].afterAll(a)},a.suite=function(a,c){var e=d.create(b[0],a);return b.unshift(e),c.call(e),b.shift(),e},a.suite.skip=function(a,c){var e=d.create(b[0],a);e.pending=!0,b.unshift(e),c.call(e),b.shift()},a.suite.only=function(b,c){var d=a.suite(b,c);g.grep(d.fullTitle())},a.test=function(a,c){var d=b[0];if(d.pending)var c=null;var f=new e(a,c);return d.addTest(f),f},a.test.only=function(b,c){var d=a.test(b,c),e="^"+f.escapeRegexp(d.fullTitle())+"$";g.grep(new RegExp(e))},a.test.skip=function(b){a.test(b)}})}}),a.register("mocha.js",function(a,b,c){function d(a){return __dirname+"/../images/"+a+".png"}function e(a){a=a||{},this.files=[],this.options=a,this.grep(a.grep),this.suite=new b.Suite("",new b.Context),this.ui(a.ui),this.bail(a.bail),this.reporter(a.reporter),null!=a.timeout&&this.timeout(a.timeout),this.useColors(a.useColors),a.slow&&this.slow(a.slow),this.suite.on("pre-require",function(a){b.afterEach=a.afterEach||a.teardown,b.after=a.after||a.suiteTeardown,b.beforeEach=a.beforeEach||a.setup,b.before=a.before||a.suiteSetup,b.describe=a.describe||a.suite,b.it=a.it||a.test,b.setup=a.setup||a.beforeEach,b.suiteSetup=a.suiteSetup||a.before,b.suiteTeardown=a.suiteTeardown||a.after,b.suite=a.suite||a.describe,b.teardown=a.teardown||a.afterEach,b.test=a.test||a.it})}var f=c("browser/path"),g=c("./utils");b=a.exports=e,b.utils=g,b.interfaces=c("./interfaces"),b.reporters=c("./reporters"),b.Runnable=c("./runnable"),b.Context=c("./context"),b.Runner=c("./runner"),b.Suite=c("./suite"),b.Hook=c("./hook"),b.Test=c("./test"),e.prototype.bail=function(a){return 0==arguments.length&&(a=!0),this.suite.bail(a),this},e.prototype.addFile=function(a){return this.files.push(a),this},e.prototype.reporter=function(a){if("function"==typeof a)this._reporter=a;else{a=a||"dot";var b;try{b=c("./reporters/"+a)}catch(d){}if(!b)try{b=c(a)}catch(d){}if(b||"teamcity"!==a||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!b)throw new Error('invalid reporter "'+a+'"');this._reporter=b}return this},e.prototype.ui=function(a){if(a=a||"bdd",this._ui=b.interfaces[a],!this._ui)try{this._ui=c(a)}catch(d){}if(!this._ui)throw new Error('invalid interface "'+a+'"');return this._ui=this._ui(this.suite),this},e.prototype.loadFiles=function(a){var b=this,d=this.suite,e=this.files.length;this.files.forEach(function(g){g=f.resolve(g),d.emit("pre-require",global,g,b),d.emit("require",c(g),g,b),d.emit("post-require",global,g,b),--e||a&&a()})},e.prototype._growl=function(a,b){var e=c("growl");a.on("end",function(){var c=b.stats;if(c.failures){var f=c.failures+" of "+a.total+" tests failed";e(f,{name:"mocha",title:"Failed",image:d("error")})}else e(c.passes+" tests passed in "+c.duration+"ms",{name:"mocha",title:"Passed",image:d("ok")})})},e.prototype.grep=function(a){return this.options.grep="string"==typeof a?new RegExp(g.escapeRegexp(a)):a,this},e.prototype.invert=function(){return this.options.invert=!0,this},e.prototype.ignoreLeaks=function(a){return this.options.ignoreLeaks=!!a,this},e.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},e.prototype.growl=function(){return this.options.growl=!0,this},e.prototype.globals=function(a){return this.options.globals=(this.options.globals||[]).concat(a),this},e.prototype.useColors=function(a){return this.options.useColors=!arguments.length||void 0==a||a,this},e.prototype.useInlineDiffs=function(a){return this.options.useInlineDiffs=!(!arguments.length||void 0==a)&&a,this},e.prototype.timeout=function(a){return this.suite.timeout(a),this},e.prototype.slow=function(a){return this.suite.slow(a),this},e.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},e.prototype.run=function(a){this.files.length&&this.loadFiles();var c=this.suite,d=this.options,e=new b.Runner(c),f=new this._reporter(e);return e.ignoreLeaks=!1!==d.ignoreLeaks,e.asyncOnly=d.asyncOnly,d.grep&&e.grep(d.grep,d.invert),d.globals&&e.globals(d.globals),d.growl&&this._growl(e,f),b.reporters.Base.useColors=d.useColors,b.reporters.Base.inlineDiffs=d.useInlineDiffs,e.run(a)}}),a.register("ms.js",function(a,b,c){function d(a){var b=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"h":return c*j;case"minutes":case"minute":case"m":return c*i;case"seconds":case"second":case"s":return c*h;case"ms":return c}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;a.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b["long"]?f(a):e(a)}}),a.register("reporters/base.js",function(a,b,c){function d(a){var b=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},c=this.failures=[];a&&(this.runner=a,a.stats=b,a.on("start",function(){b.start=new s}),a.on("suite",function(a){b.suites=b.suites||0,a.root||b.suites++}),a.on("test end",function(a){b.tests=b.tests||0,b.tests++}),a.on("pass",function(a){b.passes=b.passes||0;var c=a.slow()/2;a.speed=a.duration>a.slow()?"slow":a.duration>c?"medium":"fast",b.passes++}),a.on("fail",function(a,d){b.failures=b.failures||0,b.failures++,a.err=d,c.push(a)}),a.on("end",function(){b.end=new s,b.duration=new s-b.start}),a.on("pending",function(){b.pending++}))}function f(a,b){return a=String(a),Array(b-a.length+1).join(" ")+a}function g(a,b){var c=i(a,"WordsWithSpace",b),d=c.split("\n");if(d.length>4){var e=String(d.length).length;c=d.map(function(a,b){return f(++b,e)+" | "+a}).join("\n")}return c="\n"+u("diff removed","actual")+" "+u("diff added","expected")+"\n\n"+c+"\n",c=c.replace(/^/gm,"      ")}function h(a,b){function c(a){return b&&(a=j(a)),"+"===a[0]?e+k("diff added",a):"-"===a[0]?e+k("diff removed",a):a.match(/\@\@/)?null:a.match(/\\ No newline/)?null:e+a}function d(a){return null!=a}var e="      ";msg=p.createPatch("string",a.actual,a.expected);var f=msg.split("\n").splice(4);return"\n      "+k("diff added","+ expected")+" "+k("diff removed","- actual")+"\n\n"+f.map(c).filter(d).join("\n")}function i(a,b,c){var d=c?j(a.actual):a.actual,e=c?j(a.expected):a.expected;return p["diff"+b](d,e).map(function(a){return a.added?k("diff added",a.value):a.removed?k("diff removed",a.value):a.value}).join("")}function j(a){return a.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function k(a,b){return b.split("\n").map(function(b){return u(a,b)}).join("\n")}function l(a){return a instanceof RegExp?a.toString():JSON.stringify(a,null,2)}function m(a,b){if(b=b||[],r.indexOf(b,a)!==-1)return a;var c;return"[object Array]"=={}.toString.call(a)?(b.push(a),c=r.map(a,function(a){return m(a,b)}),b.pop()):"object"==typeof a&&null!==a?(b.push(a),c={},r.forEach(r.keys(a).sort(),function(d){c[d]=m(a[d],b)}),b.pop()):c=a,c}function n(a,b){return a=Object.prototype.toString.call(a),b=Object.prototype.toString.call(b),a==b}var o=c("browser/tty"),p=c("browser/diff"),q=c("../ms"),r=c("../utils"),s=global.Date,t=(global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval,o.isatty(1)&&o.isatty(2));b=a.exports=d,b.useColors=t||void 0!==e.env.MOCHA_COLORS,b.inlineDiffs=!1,b.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},b.symbols={ok:"✓",err:"✖",dot:"․"},"win32"==e.platform&&(b.symbols.ok="√",b.symbols.err="×",b.symbols.dot=".");var u=b.color=function(a,c){return b.useColors?"["+b.colors[a]+"m"+c+"[0m":c};b.window={width:t?e.stdout.getWindowSize?e.stdout.getWindowSize(1)[0]:o.getWindowSize()[1]:75},b.cursor={hide:function(){t&&e.stdout.write("[?25l")},show:function(){t&&e.stdout.write("[?25h")},deleteLine:function(){t&&e.stdout.write("[2K")},beginningOfLine:function(){t&&e.stdout.write("[0G")},CR:function(){t?(b.cursor.deleteLine(),b.cursor.beginningOfLine()):e.stdout.write("\r")}},b.list=function(a){console.error(),a.forEach(function(a,c){var d=u("error title","  %s) %s:\n")+u("error message","     %s")+u("error stack","\n%s\n"),e=a.err,f=e.message||"",i=e.stack||f,j=i.indexOf(f)+f.length,k=i.slice(0,j),o=e.actual,p=e.expected,q=!0;if(e.uncaught&&(k="Uncaught "+k),e.showDiff&&n(o,p)&&(q=!1,e.actual=o=l(m(o)),e.expected=p=l(m(p))),"string"==typeof o&&"string"==typeof p){d=u("error title","  %s) %s:\n%s")+u("error stack","\n%s\n");var r=f.match(/^([^:]+): expected/);k="\n      "+u("error message",r?r[1]:k),k+=b.inlineDiffs?g(e,q):h(e,q)}i=i.slice(j?j+1:j).replace(/^/gm,"  "),console.error(d,c+1,a.fullTitle(),k,i)})},d.prototype.epilogue=function(){var a,b=this.stats;console.log(),a=u("bright pass"," ")+u("green"," %d passing")+u("light"," (%s)"),console.log(a,b.passes||0,q(b.duration)),b.pending&&(a=u("pending"," ")+u("pending"," %d pending"),console.log(a,b.pending)),b.failures&&(a=u("fail","  %d failing"),console.error(a,b.failures),d.list(this.failures),console.error()),console.log()}}),a.register("reporters/doc.js",function(a,b,c){function d(a){function b(){return Array(c).join("  ")}e.call(this,a);var c=(this.stats,a.total,2);a.on("suite",function(a){a.root||(++c,console.log('%s<section class="suite">',b()),++c,console.log("%s<h1>%s</h1>",b(),f.escape(a.title)),console.log("%s<dl>",b()))}),a.on("suite end",function(a){a.root||(console.log("%s</dl>",b()),--c,console.log("%s</section>",b()),--c)}),a.on("pass",function(a){console.log("%s  <dt>%s</dt>",b(),f.escape(a.title));var c=f.escape(f.clean(a.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",b(),c)})}var e=c("./base"),f=c("../utils");b=a.exports=d}),a.register("reporters/dot.js",function(a,b,c){function d(a){g.call(this,a);var b=this,c=(this.stats,.75*g.window.width|0),d=0;a.on("start",function(){e.stdout.write("\n  ")}),a.on("pending",function(a){e.stdout.write(h("pending",g.symbols.dot))}),a.on("pass",function(a){++d%c==0&&e.stdout.write("\n  "),"slow"==a.speed?e.stdout.write(h("bright yellow",g.symbols.dot)):e.stdout.write(h(a.speed,g.symbols.dot))}),a.on("fail",function(a,b){++d%c==0&&e.stdout.write("\n  "),e.stdout.write(h("fail",g.symbols.dot))}),a.on("end",function(){console.log(),b.epilogue()})}function f(){}var g=c("./base"),h=g.color;b=a.exports=d,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/html-cov.js",function(a,b,c){function d(a){var b=c("jade"),d=__dirname+"/templates/coverage.jade",i=h.readFileSync(d,"utf8"),j=b.compile(i,{filename:d}),k=this;g.call(this,a,!1),a.on("end",function(){e.stdout.write(j({cov:k.cov,coverageClass:f}))})}function f(a){return a>=75?"high":a>=50?"medium":a>=25?"low":"terrible"}var g=c("./json-cov"),h=c("browser/fs");b=a.exports=d}),a.register("reporters/html.js",function(a,b,c){function d(a,b){k.call(this,a);var c,d,q=this,r=this.stats,s=(a.total,f(p)),t=s.getElementsByTagName("li"),u=t[1].getElementsByTagName("em")[0],v=t[1].getElementsByTagName("a")[0],w=t[2].getElementsByTagName("em")[0],x=t[2].getElementsByTagName("a")[0],y=t[3].getElementsByTagName("em")[0],z=s.getElementsByTagName("canvas")[0],A=f('<ul id="mocha-report"></ul>'),B=[A];if(b=b||document.getElementById("mocha"),z.getContext){var C=window.devicePixelRatio||1;z.style.width=z.width,z.style.height=z.height,z.width*=C,z.height*=C,d=z.getContext("2d"),d.scale(C,C),c=new m}return b?(j(v,"click",function(){h();var a=/pass/.test(A.className)?"":" pass";A.className=A.className.replace(/fail|pass/g,"")+a,A.className.trim()&&g("test pass")}),j(x,"click",function(){h();var a=/fail/.test(A.className)?"":" fail";A.className=A.className.replace(/fail|pass/g,"")+a,A.className.trim()&&g("test fail")}),b.appendChild(s),b.appendChild(A),c&&c.size(40),a.on("suite",function(a){if(!a.root){var b=q.suiteURL(a),c=f('<li class="suite"><h1><a href="%s">%s</a></h1></li>',b,n(a.title));B[0].appendChild(c),B.unshift(document.createElement("ul")),c.appendChild(B[0])}}),a.on("suite end",function(a){a.root||B.shift()}),a.on("fail",function(b,c){"hook"==b.type&&a.emit("test end",b)}),void a.on("test end",function(a){var b=r.tests/this.total*100|0;c&&c.update(b).draw(d);var e=new o-r.start;if(i(u,r.passes),i(w,r.failures),i(y,(e/1e3).toFixed(2)),"passed"==a.state)var g=q.testURL(a),h=f('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">‣</a></h2></li>',a.speed,a.title,a.duration,g);else if(a.pending)var h=f('<li class="test pass pending"><h2>%e</h2></li>',a.title);else{var h=f('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">‣</a></h2></li>',a.title,encodeURIComponent(a.fullTitle())),k=a.err.stack||a.err.toString();~k.indexOf(a.err.message)||(k=a.err.message+"\n"+k),"[object Error]"==k&&(k=a.err.message),!a.err.stack&&a.err.sourceURL&&void 0!==a.err.line&&(k+="\n("+a.err.sourceURL+":"+a.err.line+")"),h.appendChild(f('<pre class="error">%e</pre>',k))}if(!a.pending){var m=h.getElementsByTagName("h2")[0];j(m,"click",function(){n.style.display="none"==n.style.display?"block":"none"});var n=f("<pre><code>%e</code></pre>",l.clean(a.fn.toString()));h.appendChild(n),n.style.display="none"}B[0]&&B[0].appendChild(h)})):e("#mocha div missing, add it to your document")}function e(a){document.body.appendChild(f('<div id="mocha-error">%s</div>',a))}function f(a){var b=arguments,c=document.createElement("div"),d=1;return c.innerHTML=a.replace(/%([se])/g,function(a,c){switch(c){case"s":return String(b[d++]);case"e":return n(b[d++])}}),c.firstChild}function g(a){for(var b=document.getElementsByClassName("suite"),c=0;c<b.length;c++){var d=b[c].getElementsByClassName(a);0==d.length&&(b[c].className+=" hidden")}}function h(){for(var a=document.getElementsByClassName("suite hidden"),b=0;b<a.length;++b)a[b].className=a[b].className.replace("suite hidden","suite")}function i(a,b){a.textContent?a.textContent=b:a.innerText=b}function j(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}var k=c("./base"),l=c("../utils"),m=c("../browser/progress"),n=l.escape,o=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval;b=a.exports=d;var p='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>';d.prototype.suiteURL=function(a){return"?grep="+encodeURIComponent(a.fullTitle())},d.prototype.testURL=function(a){return"?grep="+encodeURIComponent(a.fullTitle())}}),a.register("reporters/index.js",function(a,b,c){b.Base=c("./base"),b.Dot=c("./dot"),b.Doc=c("./doc"),b.TAP=c("./tap"),b.JSON=c("./json"),b.HTML=c("./html"),b.List=c("./list"),b.Min=c("./min"),b.Spec=c("./spec"),b.Nyan=c("./nyan"),b.XUnit=c("./xunit"),b.Markdown=c("./markdown"),b.Progress=c("./progress"),b.Landing=c("./landing"),b.JSONCov=c("./json-cov"),b.HTMLCov=c("./html-cov"),b.JSONStream=c("./json-stream")}),a.register("reporters/json-cov.js",function(a,b,c){function d(a,b){var c=this,b=1==arguments.length||b;i.call(this,a);var d=[],g=[],j=[];a.on("test end",function(a){d.push(a)}),a.on("pass",function(a){j.push(a)}),a.on("fail",function(a){g.push(a)}),a.on("end",function(){var a=global._$jscoverage||{},i=c.cov=f(a);i.stats=c.stats,i.tests=d.map(h),i.failures=g.map(h),i.passes=j.map(h),b&&e.stdout.write(JSON.stringify(i,null,2))})}function f(a){var b={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var c in a){var d=g(c,a[c]);b.files.push(d),b.hits+=d.hits,b.misses+=d.misses,b.sloc+=d.sloc}return b.files.sort(function(a,b){return a.filename.localeCompare(b.filename)}),b.sloc>0&&(b.coverage=b.hits/b.sloc*100),b}function g(a,b){var c={filename:a,coverage:0,hits:0,misses:0,sloc:0,source:{}};return b.source.forEach(function(a,d){d++,0===b[d]?(c.misses++,c.sloc++):void 0!==b[d]&&(c.hits++,c.sloc++),c.source[d]={source:a,coverage:void 0===b[d]?"":b[d]}}),c.coverage=c.hits/c.sloc*100,c}function h(a){return{title:a.title,fullTitle:a.fullTitle(),duration:a.duration}}var i=c("./base");b=a.exports=d}),a.register("reporters/json-stream.js",function(a,b,c){function d(a){g.call(this,a);var b=this,c=(this.stats,a.total);a.on("start",function(){console.log(JSON.stringify(["start",{total:c}]))}),a.on("pass",function(a){console.log(JSON.stringify(["pass",f(a)]))}),a.on("fail",function(a,b){console.log(JSON.stringify(["fail",f(a)]))}),a.on("end",function(){e.stdout.write(JSON.stringify(["end",b.stats]))})}function f(a){return{title:a.title,fullTitle:a.fullTitle(),duration:a.duration}}var g=c("./base");g.color;b=a.exports=d}),a.register("reporters/json.js",function(a,b,c){function d(a){var b=this;g.call(this,a);var c=[],d=[],h=[];a.on("test end",function(a){c.push(a)}),a.on("pass",function(a){h.push(a)}),a.on("fail",function(a){d.push(a)}),a.on("end",function(){var a={stats:b.stats,tests:c.map(f),failures:d.map(f),passes:h.map(f)};e.stdout.write(JSON.stringify(a,null,2))})}function f(a){return{title:a.title,fullTitle:a.fullTitle(),duration:a.duration}}var g=c("./base");g.cursor,g.color;b=a.exports=d}),a.register("reporters/landing.js",function(a,b,c){function d(a){function b(){var a=Array(d).join("-");return"  "+i("runway",a)}g.call(this,a);var c=this,d=(this.stats,.75*g.window.width|0),f=a.total,j=e.stdout,k=i("plane","✈"),l=-1,m=0;a.on("start",function(){j.write("\n  "),h.hide()}),a.on("test end",function(a){var c=-1==l?d*++m/f|0:l;"failed"==a.state&&(k=i("plane crash","✈"),l=c),j.write("[4F\n\n"),j.write(b()),j.write("\n  "),j.write(i("runway",Array(c).join("⋅"))),j.write(k),j.write(i("runway",Array(d-c).join("⋅")+"\n")),j.write(b()),j.write("[0m")}),a.on("end",function(){h.show(),console.log(),c.epilogue()})}function f(){}var g=c("./base"),h=g.cursor,i=g.color;b=a.exports=d,g.colors.plane=0,g.colors["plane crash"]=31,g.colors.runway=90,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/list.js",function(a,b,c){function d(a){g.call(this,a);var b=this,c=(this.stats,0);a.on("start",function(){console.log()}),a.on("test",function(a){e.stdout.write(i("pass","    "+a.fullTitle()+": "))}),a.on("pending",function(a){var b=i("checkmark","  -")+i("pending"," %s");console.log(b,a.fullTitle())}),a.on("pass",function(a){var b=i("checkmark","  "+g.symbols.dot)+i("pass"," %s: ")+i(a.speed,"%dms");h.CR(),console.log(b,a.fullTitle(),a.duration)}),a.on("fail",function(a,b){h.CR(),console.log(i("fail","  %d) %s"),++c,a.fullTitle())}),a.on("end",b.epilogue.bind(b))}function f(){}var g=c("./base"),h=g.cursor,i=g.color;b=a.exports=d,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/markdown.js",function(a,b,c){function d(a){function b(a){return Array(i).join("#")+" "+a}function c(a,b){var d=b;return b=b[a.title]=b[a.title]||{suite:a},a.suites.forEach(function(a){c(a,b)}),d}function d(a,b){++b;var c,e="";for(var f in a)"suite"!=f&&(f&&(c=" - ["+f+"](#"+g.slug(a[f].suite.fullTitle())+")\n"),f&&(e+=Array(b).join("  ")+c),e+=d(a[f],b));return--b,e}function h(a){var b=c(a,{});return d(b,0)}f.call(this,a);var i=(this.stats,0),j="";h(a.suite),a.on("suite",function(a){++i;var c=g.slug(a.fullTitle());j+='<a name="'+c+'"></a>\n',j+=b(a.title)+"\n"}),a.on("suite end",function(a){--i}),a.on("pass",function(a){var b=g.clean(a.fn.toString());j+=a.title+".\n",j+="\n```js\n",j+=b+"\n",j+="```\n\n"}),a.on("end",function(){e.stdout.write("# TOC\n"),e.stdout.write(h(a.suite)),e.stdout.write(j)})}var f=c("./base"),g=c("../utils");b=a.exports=d}),a.register("reporters/min.js",function(a,b,c){
function d(a){g.call(this,a),a.on("start",function(){e.stdout.write("[2J"),e.stdout.write("[1;3H")}),a.on("end",this.epilogue.bind(this))}function f(){}var g=c("./base");b=a.exports=d,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/nyan.js",function(a,b,c){function d(a){h.call(this,a);var b=this,c=(this.stats,.75*h.window.width|0),d=(this.rainbowColors=b.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=c-d,this.scoreboardWidth=5,this.tick=0;a.on("start",function(){h.cursor.hide(),b.draw()}),a.on("pending",function(a){b.draw()}),a.on("pass",function(a){b.draw()}),a.on("fail",function(a,c){b.draw()}),a.on("end",function(){h.cursor.show();for(var a=0;a<b.numberOfLines;a++)f("\n");b.epilogue()})}function f(a){e.stdout.write(a)}function g(){}var h=c("./base");h.color;b=a.exports=d,d.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},d.prototype.drawScoreboard=function(){function a(a,b){f(" "),f("["+a+"m"+b+"[0m"),f("\n")}var b=this.stats,c=h.colors;a(c.green,b.passes),a(c.fail,b.failures),a(c.pending,b.pending),f("\n"),this.cursorUp(this.numberOfLines)},d.prototype.appendRainbow=function(){for(var a=this.tick?"_":"-",b=this.rainbowify(a),c=0;c<this.numberOfLines;c++){var d=this.trajectories[c];d.length>=this.trajectoryWidthMax&&d.shift(),d.push(b)}},d.prototype.drawRainbow=function(){var a=this;this.trajectories.forEach(function(b,c){f("["+a.scoreboardWidth+"C"),f(b.join("")),f("\n")}),this.cursorUp(this.numberOfLines)},d.prototype.drawNyanCat=function(){var a=this,b=this.scoreboardWidth+this.trajectories[0].length,c="["+b+"C",d="";f(c),f("_,------,"),f("\n"),f(c),d=a.tick?"  ":"   ",f("_|"+d+"/\\_/\\ "),f("\n"),f(c),d=a.tick?"_":"__";var e=a.tick?"~":"^";f(e+"|"+d+this.face()+" "),f("\n"),f(c),d=a.tick?" ":"  ",f(d+'""  "" '),f("\n"),this.cursorUp(this.numberOfLines)},d.prototype.face=function(){var a=this.stats;return a.failures?"( x .x)":a.pending?"( o .o)":a.passes?"( ^ .^)":"( - .-)"},d.prototype.cursorUp=function(a){f("["+a+"A")},d.prototype.cursorDown=function(a){f("["+a+"B")},d.prototype.generateColors=function(){for(var a=[],b=0;b<42;b++){var c=Math.floor(Math.PI/3),d=b*(1/6),e=Math.floor(3*Math.sin(d)+3),f=Math.floor(3*Math.sin(d+2*c)+3),g=Math.floor(3*Math.sin(d+4*c)+3);a.push(36*e+6*f+g+16)}return a},d.prototype.rainbowify=function(a){var b=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+b+"m"+a+"[0m"},g.prototype=h.prototype,d.prototype=new g,d.prototype.constructor=d}),a.register("reporters/progress.js",function(a,b,c){function d(a,b){g.call(this,a);var c=this,b=b||{},d=(this.stats,.5*g.window.width|0),f=a.total,j=0;Math.max;b.open=b.open||"[",b.complete=b.complete||"▬",b.incomplete=b.incomplete||g.symbols.dot,b.close=b.close||"]",b.verbose=!1,a.on("start",function(){console.log(),h.hide()}),a.on("test end",function(){j++;var a=j/f,c=d*a|0,g=d-c;h.CR(),e.stdout.write("[J"),e.stdout.write(i("progress","  "+b.open)),e.stdout.write(Array(c).join(b.complete)),e.stdout.write(Array(g).join(b.incomplete)),e.stdout.write(i("progress",b.close)),b.verbose&&e.stdout.write(i("progress"," "+j+" of "+f))}),a.on("end",function(){h.show(),console.log(),c.epilogue()})}function f(){}var g=c("./base"),h=g.cursor,i=g.color;b=a.exports=d,g.colors.progress=90,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/spec.js",function(a,b,c){function d(a){function b(){return Array(d).join("  ")}f.call(this,a);var c=this,d=(this.stats,0),e=0;a.on("start",function(){console.log()}),a.on("suite",function(a){++d,console.log(h("suite","%s%s"),b(),a.title)}),a.on("suite end",function(a){--d,1==d&&console.log()}),a.on("pending",function(a){var c=b()+h("pending","  - %s");console.log(c,a.title)}),a.on("pass",function(a){if("fast"==a.speed){var c=b()+h("checkmark","  "+f.symbols.ok)+h("pass"," %s ");g.CR(),console.log(c,a.title)}else{var c=b()+h("checkmark","  "+f.symbols.ok)+h("pass"," %s ")+h(a.speed,"(%dms)");g.CR(),console.log(c,a.title,a.duration)}}),a.on("fail",function(a,c){g.CR(),console.log(b()+h("fail","  %d) %s"),++e,a.title)}),a.on("end",c.epilogue.bind(c))}function e(){}var f=c("./base"),g=f.cursor,h=f.color;b=a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d}),a.register("reporters/tap.js",function(a,b,c){function d(a){f.call(this,a);var b=(this.stats,1),c=0,d=0;a.on("start",function(){var b=a.grepTotal(a.suite);console.log("%d..%d",1,b)}),a.on("test end",function(){++b}),a.on("pending",function(a){console.log("ok %d %s # SKIP -",b,e(a))}),a.on("pass",function(a){c++,console.log("ok %d %s",b,e(a))}),a.on("fail",function(a,c){d++,console.log("not ok %d %s",b,e(a)),c.stack&&console.log(c.stack.replace(/^/gm,"  "))}),a.on("end",function(){console.log("# tests "+(c+d)),console.log("# pass "+c),console.log("# fail "+d)})}function e(a){return a.fullTitle().replace(/#/g,"")}var f=c("./base");f.cursor,f.color;b=a.exports=d}),a.register("reporters/xunit.js",function(a,b,c){function d(a){i.call(this,a);var b=this.stats,c=[];a.on("pending",function(a){c.push(a)}),a.on("pass",function(a){c.push(a)}),a.on("fail",function(a){c.push(a)}),a.on("end",function(){console.log(g("testsuite",{name:"Mocha Tests",tests:b.tests,failures:b.failures,errors:b.failures,skipped:b.tests-b.failures-b.passes,timestamp:(new l).toUTCString(),time:b.duration/1e3||0},!1)),c.forEach(f),console.log("</testsuite>")})}function e(){}function f(a){var b={classname:a.parent.fullTitle(),name:a.title,time:a.duration/1e3||0};if("failed"==a.state){var c=a.err;b.message=k(c.message),console.log(g("testcase",b,!1,g("failure",b,!1,h(c.stack))))}else a.pending?console.log(g("testcase",b,!1,g("skipped",{},!0))):console.log(g("testcase",b,!0))}function g(a,b,c,d){var e,f=c?"/>":">",g=[];for(var h in b)g.push(h+'="'+k(b[h])+'"');return e="<"+a+(g.length?" "+g.join(" "):"")+f,d&&(e+=d+"</"+a+f),e}function h(a){return"<![CDATA["+k(a)+"]]>"}var i=c("./base"),j=c("../utils"),k=j.escape,l=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval;b=a.exports=d,e.prototype=i.prototype,d.prototype=new e,d.prototype.constructor=d}),a.register("runnable.js",function(a,b,c){function d(a,b){this.title=a,this.fn=b,this.async=b&&b.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this.timedOut=!1}function e(){}var f=c("browser/events").EventEmitter,g=c("browser/debug")("mocha:runnable"),h=c("./ms"),i=global.Date,j=global.setTimeout,k=(global.setInterval,global.clearTimeout),l=(global.clearInterval,Object.prototype.toString);a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d,d.prototype.timeout=function(a){return 0==arguments.length?this._timeout:("string"==typeof a&&(a=h(a)),g("timeout %d",a),this._timeout=a,this.timer&&this.resetTimeout(),this)},d.prototype.slow=function(a){return 0===arguments.length?this._slow:("string"==typeof a&&(a=h(a)),g("timeout %d",a),this._slow=a,this)},d.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},d.prototype.clearTimeout=function(){k(this.timer)},d.prototype.inspect=function(){return JSON.stringify(this,function(a,b){if("_"!=a[0])return"parent"==a?"#<Suite>":"ctx"==a?"#<Context>":b},2)},d.prototype.resetTimeout=function(){var a=this,b=this.timeout()||1e9;this.clearTimeout(),this.timer=j(function(){a.callback(new Error("timeout of "+b+"ms exceeded")),a.timedOut=!0},b)},d.prototype.globals=function(a){this._allowedGlobals=a},d.prototype.run=function(a){function b(a){f||(f=!0,g.emit("error",a||new Error("done() called multiple times")))}function c(c){if(!g.timedOut){if(e)return b(c);g.clearTimeout(),g.duration=new i-h,e=!0,a(c)}}function d(a){var b=a.call(j);b&&"function"==typeof b.then?(g.resetTimeout(),b.then(function(){c()},c)):c()}var e,f,g=this,h=(this.timeout(),new i),j=this.ctx;if(j&&j.runnable(this),this.callback=c,this.async){this.resetTimeout();try{this.fn.call(j,function(a){return a instanceof Error||"[object Error]"===l.call(a)?c(a):null!=a?c(new Error("done() invoked with non-Error: "+a)):void c()})}catch(k){c(k)}}else{if(this.asyncOnly)return c(new Error("--async-only option in use without declaring `done()`"));try{this.pending?c():d(this.fn)}catch(k){c(k)}}}}),a.register("runner.js",function(a,b,c){function d(a){var b=this;this._globals=[],this._abort=!1,this.suite=a,this.total=a.total(),this.failures=0,this.on("test end",function(a){b.checkGlobals(a)}),this.on("hook end",function(a){b.checkGlobals(a)}),this.grep(/.*/),this.globals(this.globalProps().concat(h()))}function f(){}function g(a,b){return l(b,function(b){if(/^d+/.test(b))return!1;if(global.navigator&&/^getInterface/.test(b))return!1;if(global.navigator&&/^\d+/.test(b))return!1;if(/^mocha-/.test(b))return!1;var c=l(a,function(a){return~a.indexOf("*")?0==b.indexOf(a.split("*")[0]):b==a});return 0==c.length&&(!global.navigator||"onerror"!==b)})}function h(){if("object"==typeof e&&"string"==typeof e.version){var a=e.version.split(".").reduce(function(a,b){return a<<8|b});if(a<2315)return["errno"]}return[]}var i=c("browser/events").EventEmitter,j=c("browser/debug")("mocha:runner"),k=(c("./test"),c("./utils")),l=k.filter,m=(k.keys,["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"]);a.exports=d,d.immediately=global.setImmediate||e.nextTick,f.prototype=i.prototype,d.prototype=new f,d.prototype.constructor=d,d.prototype.grep=function(a,b){return j("grep %s",a),this._grep=a,this._invert=b,this.total=this.grepTotal(this.suite),this},d.prototype.grepTotal=function(a){var b=this,c=0;return a.eachTest(function(a){var d=b._grep.test(a.fullTitle());b._invert&&(d=!d),d&&c++}),c},d.prototype.globalProps=function(){for(var a=k.keys(global),b=0;b<m.length;++b)~k.indexOf(a,m[b])||a.push(m[b]);return a},d.prototype.globals=function(a){return 0==arguments.length?this._globals:(j("globals %j",a),this._globals=this._globals.concat(a),this)},d.prototype.checkGlobals=function(a){if(!this.ignoreLeaks){var b,c=this._globals,d=this.globalProps();e.kill;a&&(c=c.concat(a._allowedGlobals||[])),this.prevGlobalsLength!=d.length&&(this.prevGlobalsLength=d.length,b=g(c,d),this._globals=this._globals.concat(b),b.length>1?this.fail(a,new Error("global leaks detected: "+b.join(", "))):b.length&&this.fail(a,new Error("global leak detected: "+b[0])))}},d.prototype.fail=function(a,b){++this.failures,a.state="failed","string"==typeof b&&(b=new Error('the string "'+b+'" was thrown, throw an Error :)')),this.emit("fail",a,b)},d.prototype.failHook=function(a,b){this.fail(a,b),this.suite.bail()&&this.emit("end")},d.prototype.hook=function(a,b){function c(a){var d=f[a];return d?g.failures&&e.bail()?b():(g.currentRunnable=d,d.ctx.currentTest=g.test,g.emit("hook",d),d.on("error",function(a){g.failHook(d,a)}),void d.run(function(e){d.removeAllListeners("error");var f=d.error();return f&&g.fail(g.test,f),e?(g.failHook(d,e),b(e)):(g.emit("hook end",d),delete d.ctx.currentTest,void c(++a))})):b()}var e=this.suite,f=e["_"+a],g=this;d.immediately(function(){c(0)})},d.prototype.hooks=function(a,b,c){function d(g){return e.suite=g,g?void e.hook(a,function(a){if(a){var g=e.suite;return e.suite=f,c(a,g)}d(b.pop())}):(e.suite=f,c())}var e=this,f=this.suite;d(b.pop())},d.prototype.hookUp=function(a,b){var c=[this.suite].concat(this.parents()).reverse();this.hooks(a,c,b)},d.prototype.hookDown=function(a,b){var c=[this.suite].concat(this.parents());this.hooks(a,c,b)},d.prototype.parents=function(){for(var a=this.suite,b=[];a=a.parent;)b.push(a);return b},d.prototype.runTest=function(a){var b=this.test,c=this;this.asyncOnly&&(b.asyncOnly=!0);try{b.on("error",function(a){c.fail(b,a)}),b.run(a)}catch(d){a(d)}},d.prototype.runTests=function(a,b){function c(a,d,e){var g=f.suite;f.suite=e?d.parent:d,f.suite?f.hookUp("afterEach",function(a,e){return f.suite=g,a?c(a,e,!0):void b(d)}):(f.suite=g,b(d))}function d(h,i){if(f.failures&&a._bail)return b();if(f._abort)return b();if(h)return c(h,i,!0);if(e=g.shift(),!e)return b();var j=f._grep.test(e.fullTitle());return f._invert&&(j=!j),j?e.pending?(f.emit("pending",e),f.emit("test end",e),d()):(f.emit("test",f.test=e),void f.hookDown("beforeEach",function(a,b){return a?c(a,b,!1):(f.currentRunnable=f.test,void f.runTest(function(a){return e=f.test,a?(f.fail(e,a),f.emit("test end",e),f.hookUp("afterEach",d)):(e.state="passed",f.emit("pass",e),f.emit("test end",e),void f.hookUp("afterEach",d))}))})):d()}var e,f=this,g=a.tests.slice();this.next=d,d()},d.prototype.runSuite=function(a,b){function c(b){if(b)return b==a?d():d(b);if(f._abort)return d();var e=a.suites[g++];return e?void f.runSuite(e,c):d()}function d(c){f.suite=a,f.hook("afterAll",function(){f.emit("suite end",a),b(c)})}var e=this.grepTotal(a),f=this,g=0;return j("run suite %s",a.fullTitle()),e?(this.emit("suite",this.suite=a),void this.hook("beforeAll",function(b){return b?d():void f.runTests(a,c)})):b()},d.prototype.uncaught=function(a){j("uncaught exception %s",a.message);var b=this.currentRunnable;if(b&&"failed"!=b.state)return b.clearTimeout(),a.uncaught=!0,this.fail(b,a),"test"==b.type?(this.emit("test end",b),void this.hookUp("afterEach",this.next)):void this.emit("end")},d.prototype.run=function(a){function b(a){c.uncaught(a)}var c=this,a=a||function(){};return j("start"),this.on("end",function(){j("end"),e.removeListener("uncaughtException",b),a(c.failures)}),this.emit("start"),this.runSuite(this.suite,function(){j("finished running"),c.emit("end")}),e.on("uncaughtException",b),this},d.prototype.abort=function(){j("aborting"),this._abort=!0}}),a.register("suite.js",function(a,b,c){function d(a,b){this.title=a,this.ctx=b,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!a,this._timeout=2e3,this._slow=75,this._bail=!1}function e(){}var f=c("browser/events").EventEmitter,g=c("browser/debug")("mocha:suite"),h=c("./ms"),i=c("./utils"),j=c("./hook");b=a.exports=d,b.create=function(a,b){var c=new d(b,a.ctx);return c.parent=a,a.pending&&(c.pending=!0),b=c.fullTitle(),a.addSuite(c),c},e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d,d.prototype.clone=function(){var a=new d(this.title);return g("clone"),a.ctx=this.ctx,a.timeout(this.timeout()),a.slow(this.slow()),a.bail(this.bail()),a},d.prototype.timeout=function(a){return 0==arguments.length?this._timeout:("string"==typeof a&&(a=h(a)),g("timeout %d",a),this._timeout=parseInt(a,10),this)},d.prototype.slow=function(a){return 0===arguments.length?this._slow:("string"==typeof a&&(a=h(a)),g("slow %d",a),this._slow=a,this)},d.prototype.bail=function(a){return 0==arguments.length?this._bail:(g("bail %s",a),this._bail=a,this)},d.prototype.beforeAll=function(a,b){if(this.pending)return this;"function"==typeof a&&(b=a,a=b.name),a='"before all" hook'+(a?": "+a:"");var c=new j(a,b);return c.parent=this,c.timeout(this.timeout()),c.slow(this.slow()),c.ctx=this.ctx,this._beforeAll.push(c),this.emit("beforeAll",c),this},d.prototype.afterAll=function(a,b){if(this.pending)return this;"function"==typeof a&&(b=a,a=b.name),a='"after all" hook'+(a?": "+a:"");var c=new j(a,b);return c.parent=this,c.timeout(this.timeout()),c.slow(this.slow()),c.ctx=this.ctx,this._afterAll.push(c),this.emit("afterAll",c),this},d.prototype.beforeEach=function(a,b){if(this.pending)return this;"function"==typeof a&&(b=a,a=b.name),a='"before each" hook'+(a?": "+a:"");var c=new j(a,b);return c.parent=this,c.timeout(this.timeout()),c.slow(this.slow()),c.ctx=this.ctx,this._beforeEach.push(c),this.emit("beforeEach",c),this},d.prototype.afterEach=function(a,b){if(this.pending)return this;"function"==typeof a&&(b=a,a=b.name),a='"after each" hook'+(a?": "+a:"");var c=new j(a,b);return c.parent=this,c.timeout(this.timeout()),c.slow(this.slow()),c.ctx=this.ctx,this._afterEach.push(c),this.emit("afterEach",c),this},d.prototype.addSuite=function(a){return a.parent=this,a.timeout(this.timeout()),a.slow(this.slow()),a.bail(this.bail()),this.suites.push(a),this.emit("suite",a),this},d.prototype.addTest=function(a){return a.parent=this,a.timeout(this.timeout()),a.slow(this.slow()),a.ctx=this.ctx,this.tests.push(a),this.emit("test",a),this},d.prototype.fullTitle=function(){if(this.parent){var a=this.parent.fullTitle();if(a)return a+" "+this.title}return this.title},d.prototype.total=function(){return i.reduce(this.suites,function(a,b){return a+b.total()},0)+this.tests.length},d.prototype.eachTest=function(a){return i.forEach(this.tests,a),i.forEach(this.suites,function(b){b.eachTest(a)}),this}}),a.register("test.js",function(a,b,c){function d(a,b){f.call(this,a,b),this.pending=!b,this.type="test"}function e(){}var f=c("./runnable");a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d}),a.register("utils.js",function(a,b,c){function d(a){return!~j.indexOf(a)}function e(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var f=c("browser/fs"),g=c("browser/path"),h=g.join,i=c("browser/debug")("mocha:watch"),j=["node_modules",".git"];b.escape=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},b.forEach=function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d)},b.map=function(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e));return d},b.indexOf=function(a,b,c){for(var d=c||0,e=a.length;d<e;d++)if(a[d]===b)return d;return-1},b.reduce=function(a,b,c){for(var d=c,e=0,f=a.length;e<f;e++)d=b(d,a[e],e,a);return d},b.filter=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},b.keys=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b},b.watch=function(a,b){var c={interval:100};a.forEach(function(a){i("file %s",a),f.watchFile(a,c,function(c,d){d.mtime<c.mtime&&b(a)})})},b.files=function(a,c){return c=c||[],f.readdirSync(a).filter(d).forEach(function(d){d=h(a,d),f.statSync(d).isDirectory()?b.files(d,c):d.match(/\.(js|coffee|litcoffee|coffee.md)$/)&&c.push(d)}),c},b.slug=function(a){return a.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},b.clean=function(a){a=a.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var c=a.match(/^\n?( *)/)[1].length,d=a.match(/^\n?(\t*)/)[1].length,e=new RegExp("^\n?"+(d?"\t":" ")+"{"+(d?d:c)+"}","gm");return a=a.replace(e,""),b.trim(a)},b.escapeRegexp=function(a){return a.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},b.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},b.parseQuery=function(a){return b.reduce(a.replace("?","").split("&"),function(a,b){var c=b.indexOf("="),d=b.slice(0,c),e=b.slice(++c);return a[d]=decodeURIComponent(e),a},{})},b.highlightTags=function(a){for(var b=document.getElementsByTagName(a),c=0,d=b.length;c<d;++c)b[c].innerHTML=e(b[c].innerHTML)}}),global=function(){return this}();var c=global.Date,d=global.setTimeout,e=(global.setInterval,global.clearTimeout,global.clearInterval,{});e.exit=function(a){},e.stdout={};var f=[];e.removeListener=function(a,b){if("uncaughtException"==a){global.onerror=function(){};var c=g.utils.indexOf(f,b);c!=-1&&f.splice(c,1)}},e.on=function(a,b){"uncaughtException"==a&&(global.onerror=function(a,c,d){return b(new Error(a+" ("+c+":"+d+")")),!0},f.push(b))};var g=global.Mocha=a("mocha"),h=global.mocha=new g({reporter:"html"});h.suite.removeAllListeners("pre-require");var i,j=[];g.Runner.immediately=function(a){j.push(a),i||(i=d(b,0))},h.throwError=function(a){throw g.utils.forEach(f,function(b){b(a)}),a},h.ui=function(a){return g.prototype.ui.call(this,a),this.suite.emit("pre-require",global,null,this),this},h.setup=function(a){"string"==typeof a&&(a={ui:a});for(var b in a)this[b](a[b]);return this},h.run=function(a){h.options;h.globals("location");var b=g.utils.parseQuery(global.location.search||"");return b.grep&&h.grep(b.grep),b.invert&&h.invert(),g.prototype.run.call(h,function(){global.document&&g.utils.highlightTags("code"),a&&a()})},g.process=e}();var sinon=function(){"use strict";var buster=function(a,b){var c="function"==typeof require&&"object"==typeof module,d="undefined"!=typeof document&&document.createElement("div"),e=function(){},f={bind:function(a,b){var c="string"==typeof b?a[b]:b,d=Array.prototype.slice.call(arguments,2);return function(){var b=d.concat(Array.prototype.slice.call(arguments));return c.apply(a,b)}},partial:function(a){var b=[].slice.call(arguments,1);return function(){return a.apply(this,b.concat([].slice.call(arguments)))}},create:function(a){return e.prototype=a,new e},extend:function(a){if(a){for(var b,c=1,d=arguments.length;c<d;++c)for(b in arguments[c])a[b]=arguments[c][b];return a}},nextTick:function(b){return"undefined"!=typeof process&&process.nextTick?process.nextTick(b):void a(b,0)},functionName:function(a){if(!a)return"";if(a.displayName)return a.displayName;if(a.name)return a.name;var b=a.toString().match(/function\s+([^\(]+)/m);return b&&b[1]||""},isNode:function(a){if(!d)return!1;try{a.appendChild(d),a.removeChild(d)}catch(b){return!1}return!0},isElement:function(a){return a&&1===a.nodeType&&f.isNode(a)},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},flatten:function i(a){for(var b=[],a=a||[],c=0,d=a.length;c<d;++c)b=b.concat(f.isArray(a[c])?i(a[c]):a[c]);return b},each:function(a,b){for(var c=0,d=a.length;c<d;++c)b(a[c])},map:function(a,b){for(var c=[],d=0,e=a.length;d<e;++d)c.push(b(a[d]));return c},parallel:function(a,b){function c(a,c){"function"==typeof b&&(b(a,c),b=null)}function d(a){return function(b,d){return b?c(b):(f[a]=d,void(0==--e&&c(null,f)))}}if(0==a.length)return c(null,[]);for(var e=a.length,f=[],g=0,h=a.length;g<h;++g)a[g](d(g))},series:function(a,b){function c(a,c){"function"==typeof b&&b(a,c)}function d(){if(0==g.length)return c(null,h);var a=g.shift()(e);a&&"function"==typeof a.then&&a.then(f.partial(e,null),e)}function e(a,b){return a?c(a):(h.push(b),void d())}var g=a.slice(),h=[];d()},countdown:function(a,b){return function(){0==--a&&b()}}};if("object"==typeof process&&"function"==typeof require&&"object"==typeof module){var g=require("crypto"),h=require("path");f.tmpFile=function(a){var b=g.createHash("sha1");b.update(a);var c=b.digest("hex");return"win32"==process.platform?h.join(process.env.TEMP,c):h.join("/tmp",c)}}return Array.prototype.some?f.some=function(a,b,c){return a.some(b,c)}:f.some=function(a,b,c){if(null==a)throw new TypeError;a=Object(a);var d=a.length>>>0;if("function"!=typeof b)throw new TypeError;for(var e=0;e<d;e++)if(a.hasOwnProperty(e)&&b.call(c,a[e],e,a))return!0;return!1},Array.prototype.filter?f.filter=function(a,b,c){return a.filter(b,c)}:f.filter=function(a,b){if(null==this)throw new TypeError;var c=Object(this),d=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var e=[],f=0;f<d;f++)if(f in c){var g=c[f];a.call(b,g,f,c)&&e.push(g)}return e},c&&(module.exports=f,f.eventEmitter=require("./buster-event-emitter"),Object.defineProperty(f,"defineVersionGetter",{get:function(){return require("./define-version-getter")}})),f.extend(b||{},f)}(setTimeout,buster);if("undefined"==typeof buster)var buster={};"object"==typeof module&&"function"==typeof require&&(buster=require("buster-core")),buster.format=buster.format||{},buster.format.excludeConstructors=["Object",/^.$/],buster.format.quoteStrings=!0,buster.format.ascii=function(){function a(a){var b=Object.keys&&Object.keys(a)||[];if(0==b.length)for(var c in a)d.call(a,c)&&b.push(c);return b.sort()}function b(a,b){if("object"!=typeof a)return!1;for(var c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return!1}function c(a,d,f){if("string"==typeof a){var g="boolean"!=typeof this.quoteStrings||this.quoteStrings;return d||g?'"'+a+'"':a}if("function"==typeof a&&!(a instanceof RegExp))return c.func(a);if(d=d||[],b(a,d))return"[Circular]";if("[object Array]"==Object.prototype.toString.call(a))return c.array.call(this,a,d);if(!a)return""+a;if(buster.isElement(a))return c.element(a);if("function"==typeof a.toString&&a.toString!==Object.prototype.toString)return a.toString();for(var h=0,i=e.length;h<i;h++)if(a===e[h].obj)return e[h].value;return c.object.call(this,a,d,f)}var d=Object.prototype.hasOwnProperty,e=[];return"undefined"!=typeof global&&e.push({obj:global,value:"[object global]"}),"undefined"!=typeof document&&e.push({obj:document,value:"[object HTMLDocument]"}),"undefined"!=typeof window&&e.push({obj:window,value:"[object Window]"}),c.func=function(a){return"function "+buster.functionName(a)+"() {}"},c.array=function(a,b){b=b||[],b.push(a);for(var d=[],e=0,f=a.length;e<f;++e)d.push(c.call(this,a[e],b));return"["+d.join(", ")+"]"},c.object=function(d,e,f){e=e||[],e.push(d),f=f||0;for(var g,h,i,j=[],k=a(d),l="",m=3,n=0,o=f;n<o;++n)l+=" ";for(n=0,o=k.length;n<o;++n)g=k[n],i=d[g],h=b(i,e)?"[Circular]":c.call(this,i,e,f+2),h=(/\s/.test(g)?'"'+g+'"':g)+": "+h,m+=h.length,j.push(h);var p=c.constructorName.call(this,d),q=p?"["+p+"] ":"";return m+f>80?q+"{\n  "+l+j.join(",\n  "+l)+"\n"+l+"}":q+"{ "+j.join(", ")+" }"},c.element=function(a){for(var b,c,d=a.tagName.toLowerCase(),e=a.attributes,f=[],g=0,h=e.length;g<h;++g)b=e.item(g),c=b.nodeName.toLowerCase().replace("html:",""),"contenteditable"==c&&"inherit"==b.nodeValue||b.nodeValue&&f.push(c+'="'+b.nodeValue+'"');var i="<"+d+(f.length>0?" ":""),j=a.innerHTML;j.length>20&&(j=j.substr(0,20)+"[...]");var k=i+f.join(" ")+">"+j+"</"+d+">";return k.replace(/ contentEditable="inherit"/,"")},c.constructorName=function(a){for(var b=buster.functionName(a&&a.constructor),c=this.excludeConstructors||buster.format.excludeConstructors||[],d=0,e=c.length;d<e;++d){if("string"==typeof c[d]&&c[d]==b)return"";if(c[d].test&&c[d].test(b))return""}return b},c}(),"undefined"!=typeof module&&(module.exports=buster.format);var sinon=function(a){function b(a){var b=!1;try{a.appendChild(f),b=f.parentNode==a}catch(c){return!1}finally{try{a.removeChild(f)}catch(c){}}return b}function c(a){return f&&a&&1===a.nodeType&&b(a)}function d(a){return"function"==typeof a||!!(a&&a.constructor&&a.call&&a.apply)}function e(a,b){for(var c in b)g.call(a,c)||(a[c]=b[c])}var f="undefined"!=typeof document&&document.createElement("div"),g=Object.prototype.hasOwnProperty,h={wrapMethod:function(a,b,c){if(!a)throw new TypeError("Should wrap property of object");if("function"!=typeof c)throw new TypeError("Method wrapper should be function");var f=a[b];if(!d(f))throw new TypeError("Attempted to wrap "+typeof f+" property "+b+" as function");if(f.restore&&f.restore.sinon)throw new TypeError("Attempted to wrap "+b+" which is already wrapped");if(f.calledBefore){var h=f.returns?"stubbed":"spied on";throw new TypeError("Attempted to wrap "+b+" which is already "+h)}var i=g.call(a,b);return a[b]=c,c.displayName=b,c.restore=function(){i||delete a[b],a[b]===c&&(a[b]=f)},c.restore.sinon=!0,e(c,f),c},extend:function(a){for(var b=1,c=arguments.length;b<c;b+=1)for(var d in arguments[b])arguments[b].hasOwnProperty(d)&&(a[d]=arguments[b][d]),arguments[b].hasOwnProperty("toString")&&arguments[b].toString!=a.toString&&(a.toString=arguments[b].toString);return a},create:function(a){var b=function(){};return b.prototype=a,new b},deepEqual:function m(a,b){if(h.match&&h.match.isMatcher(a))return a.test(b);if("object"!=typeof a||"object"!=typeof b)return a===b;if(c(a)||c(b))return a===b;if(a===b)return!0;if(null===a&&null!==b||null!==a&&null===b)return!1;var d=Object.prototype.toString.call(a);if(d!=Object.prototype.toString.call(b))return!1;if("[object Array]"==d){if(a.length!==b.length)return!1;for(var e=0,f=a.length;e<f;e+=1)if(!m(a[e],b[e]))return!1;return!0}var g,i=0,j=0;for(g in a)if(i+=1,!m(a[g],b[g]))return!1;for(g in b)j+=1;return i==j},functionName:function(a){var b=a.displayName||a.name;if(!b){var c=a.toString().match(/function ([^\s\(]+)/);b=c&&c[1]}return b},functionToString:function(){if(this.getCall&&this.callCount)for(var a,b,c=this.callCount;c--;){a=this.getCall(c).thisValue;for(b in a)if(a[b]===this)return b}return this.displayName||"sinon fake"},getConfig:function(a){var b={};a=a||{};var c=h.defaultConfig;for(var d in c)c.hasOwnProperty(d)&&(b[d]=a.hasOwnProperty(d)?a[d]:c[d]);return b},format:function(a){return""+a},defaultConfig:{injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},timesInWords:function(a){return 1==a&&"once"||2==a&&"twice"||3==a&&"thrice"||(a||0)+" times"},calledInOrder:function(a){for(var b=1,c=a.length;b<c;b++)if(!a[b-1].calledBefore(a[b]))return!1;return!0},orderByFirstCall:function(a){return a.sort(function(a,b){var c=a.getCall(0),d=b.getCall(0),e=c&&c.callId||-1,f=d&&d.callId||-1;return e<f?-1:1})},log:function(){},logError:function(a,b){var c=a+" threw exception: ";h.log(c+"["+b.name+"] "+b.message),b.stack&&h.log(b.stack),setTimeout(function(){throw b.message=c+b.message,b},0)},typeOf:function(a){if(null===a)return"null";if(void 0===a)return"undefined";var b=Object.prototype.toString.call(a);return b.substring(8,b.length-1).toLowerCase()}},i="object"==typeof module&&"function"==typeof require;if(i){try{a={format:require("buster-format")}}catch(j){}module.exports=h,module.exports.spy=require("./sinon/spy"),module.exports.stub=require("./sinon/stub"),module.exports.mock=require("./sinon/mock"),module.exports.collection=require("./sinon/collection"),module.exports.assert=require("./sinon/assert"),module.exports.sandbox=require("./sinon/sandbox"),module.exports.test=require("./sinon/test"),module.exports.testCase=require("./sinon/test_case"),module.exports.assert=require("./sinon/assert"),module.exports.match=require("./sinon/match")}if(a){var k=h.create(a.format);k.quoteStrings=!1,h.format=function(){return k.ascii.apply(k,arguments)}}else if(i)try{var l=require("util");h.format=function(a){return"object"==typeof a&&a.toString===Object.prototype.toString?l.inspect(a):a}}catch(j){}return h}("object"==typeof buster&&buster);if(function(a){function b(b,c,d){var e=a.typeOf(b);if(e!==c)throw new TypeError("Expected type of "+d+" to be "+c+", but was "+e)}function c(a){return g.isPrototypeOf(a)}function d(b,c){if(null===c||void 0===c)return!1;for(var e in b)if(b.hasOwnProperty(e)){var f=b[e],g=c[e];if(h.isMatcher(f)){if(!f.test(g))return!1}else if("object"===a.typeOf(f)){if(!d(f,g))return!1}else if(!a.deepEqual(f,g))return!1}return!0}function e(c,d){return function(e,f){b(e,"string","property");var g=1===arguments.length,i=d+'("'+e+'"';return g||(i+=", "+f),i+=")",h(function(b){return!(void 0===b||null===b||!c(b,e))&&(g||a.deepEqual(f,b[e]))},i)}}var f="object"==typeof module&&"function"==typeof require;if(!a&&f&&(a=require("../sinon")),a){var g={toString:function(){return this.message}};g.or=function(b){if(!c(b))throw new TypeError("Matcher expected");var d=this,e=a.create(g);return e.test=function(a){return d.test(a)||b.test(a)},e.message=d.message+".or("+b.message+")",e},g.and=function(b){if(!c(b))throw new TypeError("Matcher expected");var d=this,e=a.create(g);return e.test=function(a){return d.test(a)&&b.test(a)},e.message=d.message+".and("+b.message+")",e};var h=function(b,c){var e=a.create(g),f=a.typeOf(b);switch(f){case"object":if("function"==typeof b.test)return e.test=function(a){return b.test(a)===!0},e.message="match("+a.functionName(b.test)+")",e;var h=[];for(var i in b)b.hasOwnProperty(i)&&h.push(i+": "+b[i]);e.test=function(a){return d(b,a)},e.message="match("+h.join(", ")+")";
break;case"number":e.test=function(a){return b==a};break;case"string":e.test=function(a){return"string"==typeof a&&a.indexOf(b)!==-1},e.message='match("'+b+'")';break;case"regexp":e.test=function(a){return"string"==typeof a&&b.test(a)};break;case"function":e.test=b,c?e.message=c:e.message="match("+a.functionName(b)+")";break;default:e.test=function(c){return a.deepEqual(b,c)}}return e.message||(e.message="match("+b+")"),e};h.isMatcher=c,h.any=h(function(){return!0},"any"),h.defined=h(function(a){return null!==a&&void 0!==a},"defined"),h.truthy=h(function(a){return!!a},"truthy"),h.falsy=h(function(a){return!a},"falsy"),h.same=function(a){return h(function(b){return a===b},"same("+a+")")},h.typeOf=function(c){return b(c,"string","type"),h(function(b){return a.typeOf(b)===c},'typeOf("'+c+'")')},h.instanceOf=function(c){return b(c,"function","type"),h(function(a){return a instanceof c},"instanceOf("+a.functionName(c)+")")},h.has=e(function(a,b){return"object"==typeof a?b in a:void 0!==a[b]},"has"),h.hasOwn=e(function(a,b){return a.hasOwnProperty(b)},"hasOwn"),h.bool=h.typeOf("boolean"),h.number=h.typeOf("number"),h.string=h.typeOf("string"),h.object=h.typeOf("object"),h.func=h.typeOf("function"),h.array=h.typeOf("array"),h.regexp=h.typeOf("regexp"),h.date=h.typeOf("date"),f?module.exports=h:a.match=h}}("object"==typeof sinon&&sinon||null),function(sinon){function spy(a,b){if(!b&&"function"==typeof a)return spy.create(a);if(!a&&!b)return spy.create(function(){});var c=a[b];return sinon.wrapMethod(a,b,spy.create(c))}var commonJSModule="object"==typeof module&&"function"==typeof require,spyCall,callId=0,push=[].push,slice=Array.prototype.slice;!sinon&&commonJSModule&&(sinon=require("../sinon")),sinon&&(sinon.extend(spy,function(){function delegateToCalls(a,b,c,d,e){a[b]=function(){if(!this.called)return!!e&&e.apply(this,arguments);for(var a,f=0,g=0,h=this.callCount;g<h;g+=1)if(a=this.getCall(g),a[d||b].apply(a,arguments)&&(f+=1,c))return!0;return f===this.callCount}}function matchingFake(a,b,c){if(a)for(var d=(b.length,0),e=a.length;d<e;d++)if(a[d].matches(b,c))return a[d]}function incrementCallCount(){this.called=!0,this.callCount+=1,this.notCalled=!1,this.calledOnce=1==this.callCount,this.calledTwice=2==this.callCount,this.calledThrice=3==this.callCount}function createCallProperties(){this.firstCall=this.getCall(0),this.secondCall=this.getCall(1),this.thirdCall=this.getCall(2),this.lastCall=this.getCall(this.callCount-1)}function createProxy(func){var p;return func.length?eval("p = (function proxy("+vars.substring(0,2*func.length-1)+") { return p.invoke(func, this, slice.call(arguments)); });"):p=function(){return p.invoke(func,this,slice.call(arguments))},p}var vars="a,b,c,d,e,f,g,h,i,j,k,l",uuid=0,spyApi={reset:function(){if(this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.args=[],this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.fakes)for(var a=0;a<this.fakes.length;a++)this.fakes[a].reset()},create:function(a){var b;"function"!=typeof a?a=function(){}:b=sinon.functionName(a);var c=createProxy(a);return sinon.extend(c,spy),delete c.create,sinon.extend(c,a),c.reset(),c.prototype=a.prototype,c.displayName=b||"spy",c.toString=sinon.functionToString,c._create=sinon.spy.create,c.id="spy#"+uuid++,c},invoke:function(a,b,c){var d,e,f=matchingFake(this.fakes,c);incrementCallCount.call(this),push.call(this.thisValues,b),push.call(this.args,c),push.call(this.callIds,callId++);try{e=f?f.invoke(a,b,c):(this.func||a).apply(b,c)}catch(g){throw push.call(this.returnValues,void 0),d=g,g}finally{push.call(this.exceptions,d)}return push.call(this.returnValues,e),createCallProperties.call(this),e},getCall:function(a){return a<0||a>=this.callCount?null:spyCall.create(this,this.thisValues[a],this.args[a],this.returnValues[a],this.exceptions[a],this.callIds[a])},calledBefore:function(a){return!!this.called&&(!a.called||this.callIds[0]<a.callIds[a.callIds.length-1])},calledAfter:function(a){return!(!this.called||!a.called)&&this.callIds[this.callCount-1]>a.callIds[a.callCount-1]},withArgs:function(){var a=slice.call(arguments);if(this.fakes){var b=matchingFake(this.fakes,a,!0);if(b)return b}else this.fakes=[];var c=this,d=this._create();d.matchingAguments=a,push.call(this.fakes,d),d.withArgs=function(){return c.withArgs.apply(c,arguments)};for(var e=0;e<this.args.length;e++)d.matches(this.args[e])&&(incrementCallCount.call(d),push.call(d.thisValues,this.thisValues[e]),push.call(d.args,this.args[e]),push.call(d.returnValues,this.returnValues[e]),push.call(d.exceptions,this.exceptions[e]),push.call(d.callIds,this.callIds[e]));return createCallProperties.call(d),d},matches:function(a,b){var c=this.matchingAguments;if(c.length<=a.length&&sinon.deepEqual(c,a.slice(0,c.length)))return!b||c.length==a.length},printf:function(a){var b,c=this,d=slice.call(arguments,1);return(a||"").replace(/%(.)/g,function(a,e){return b=spyApi.formatters[e],"function"==typeof b?b.call(null,c,d):isNaN(parseInt(e),10)?"%"+e:sinon.format(d[e-1])})}};return delegateToCalls(spyApi,"calledOn",!0),delegateToCalls(spyApi,"alwaysCalledOn",!1,"calledOn"),delegateToCalls(spyApi,"calledWith",!0),delegateToCalls(spyApi,"calledWithMatch",!0),delegateToCalls(spyApi,"alwaysCalledWith",!1,"calledWith"),delegateToCalls(spyApi,"alwaysCalledWithMatch",!1,"calledWithMatch"),delegateToCalls(spyApi,"calledWithExactly",!0),delegateToCalls(spyApi,"alwaysCalledWithExactly",!1,"calledWithExactly"),delegateToCalls(spyApi,"neverCalledWith",!1,"notCalledWith",function(){return!0}),delegateToCalls(spyApi,"neverCalledWithMatch",!1,"notCalledWithMatch",function(){return!0}),delegateToCalls(spyApi,"threw",!0),delegateToCalls(spyApi,"alwaysThrew",!1,"threw"),delegateToCalls(spyApi,"returned",!0),delegateToCalls(spyApi,"alwaysReturned",!1,"returned"),delegateToCalls(spyApi,"calledWithNew",!0),delegateToCalls(spyApi,"alwaysCalledWithNew",!1,"calledWithNew"),delegateToCalls(spyApi,"callArg",!1,"callArgWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgWith=spyApi.callArg,delegateToCalls(spyApi,"yield",!1,"yield",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),spyApi.invokeCallback=spyApi["yield"],delegateToCalls(spyApi,"yieldTo",!1,"yieldTo",function(a){throw new Error(this.toString()+" cannot yield to '"+a+"' since it was not yet invoked.")}),spyApi.formatters={c:function(a){return sinon.timesInWords(a.callCount)},n:function(a){return a.toString()},C:function(a){for(var b=[],c=0,d=a.callCount;c<d;++c)push.call(b,"    "+a.getCall(c).toString());return b.length>0?"\n"+b.join("\n"):""},t:function(a){for(var b=[],c=0,d=a.callCount;c<d;++c)push.call(b,sinon.format(a.thisValues[c]));return b.join(", ")},"*":function(a,b){for(var c=[],d=0,e=b.length;d<e;++d)push.call(c,sinon.format(b[d]));return c.join(", ")}},spyApi}()),spyCall=function(){function a(a,b,c){var d=sinon.functionName(a)+b;throw c.length&&(d+=" Received ["+slice.call(c).join(", ")+"]"),new Error(d)}var b={create:function(a,b,c,d,e,f){var g=sinon.create(spyCall);return delete g.create,g.proxy=a,g.thisValue=b,g.args=c,g.returnValue=d,g.exception=e,g.callId="number"==typeof f&&f||callId++,g},calledOn:function(a){return sinon.match&&sinon.match.isMatcher(a)?a.test(this.thisValue):this.thisValue===a},calledWith:function(){for(var a=0,b=arguments.length;a<b;a+=1)if(!sinon.deepEqual(arguments[a],this.args[a]))return!1;return!0},calledWithMatch:function(){for(var a=0,b=arguments.length;a<b;a+=1){var c=this.args[a],d=arguments[a];if(!sinon.match||!sinon.match(d).test(c))return!1}return!0},calledWithExactly:function(){return arguments.length==this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(a){return sinon.deepEqual(a,this.returnValue)},threw:function(a){return"undefined"!=typeof a&&this.exception?"string"==typeof a?this.exception.name==a:this.exception===a:!!this.exception},calledWithNew:function(a){return this.thisValue instanceof this.proxy},calledBefore:function(a){return this.callId<a.callId},calledAfter:function(a){return this.callId>a.callId},callArg:function(a){this.args[a]()},callArgWith:function(a){var b=slice.call(arguments,1);this.args[a].apply(null,b)},"yield":function(){for(var b=this.args,c=0,d=b.length;c<d;++c)if("function"==typeof b[c])return void b[c].apply(null,slice.call(arguments));a(this.proxy," cannot yield since no callback was passed.",b)},yieldTo:function(b){for(var c=this.args,d=0,e=c.length;d<e;++d)if(c[d]&&"function"==typeof c[d][b])return void c[d][b].apply(null,slice.call(arguments,1));a(this.proxy," cannot yield to '"+b+"' since no callback was passed.",c)},toString:function(){for(var a=this.proxy.toString()+"(",b=[],c=0,d=this.args.length;c<d;++c)push.call(b,sinon.format(this.args[c]));return a=a+b.join(", ")+")","undefined"!=typeof this.returnValue&&(a+=" => "+sinon.format(this.returnValue)),this.exception&&(a+=" !"+this.exception.name,this.exception.message&&(a+="("+this.exception.message+")")),a}};return b.invokeCallback=b["yield"],b}(),spy.spyCall=spyCall,sinon.spyCall=spyCall,commonJSModule?module.exports=spy:sinon.spy=spy)}("object"==typeof sinon&&sinon||null),function(a){function b(c,d,e){if(e&&"function"!=typeof e)throw new TypeError("Custom stub should be function");var f;if(f=e?a.spy&&a.spy.create?a.spy.create(e):e:b.create(),!c&&!d)return a.stub.create();if(!d&&c&&"object"==typeof c){for(var g in c)"function"==typeof c[g]&&b(c,g);return c}return a.wrapMethod(c,d,f)}function c(a,b){var c=a.callCount-1,d=c in a[b]?a[b][c]:a[b+"Last"];return a[b+"Last"]=d,d}function d(a,b){var d=c(a,"callArgAts");if(d<0){for(var e=c(a,"callArgProps"),f=0,g=b.length;f<g;++f){if(!e&&"function"==typeof b[f])return b[f];if(e&&b[f]&&"function"==typeof b[f][e])return b[f][e]}return null}return b[d]}function e(b,c,d){if(b.callArgAtsLast<0){var e;return e=b.callArgPropsLast?a.functionName(b)+" expected to yield to '"+b.callArgPropsLast+"', but no object with such a property was passed.":a.functionName(b)+" expected to yield, but no callback was passed.",d.length>0&&(e+=" Received ["+h.call(d,", ")+"]"),e}return"argument at index "+b.callArgAtsLast+" is not a function: "+c}function f(a,b){if(a.callArgAts.length>0){var f=d(a,b);if("function"!=typeof f)throw new TypeError(e(a,f,b));var g=(a.callCount-1,c(a,"callbackArguments")),h=c(a,"callbackContexts");a.callbackAsync?i(function(){f.apply(h,g)}):f.apply(h,g)}}var g="object"==typeof module&&"function"==typeof require;if(!a&&g&&(a=require("../sinon")),a){var h=Array.prototype.join,i=function(){return"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:"function"==typeof msSetImmediate?msSetImmediate.bind(window):"function"==typeof setImmediate?setImmediate:function(a){setTimeout(a,0)}}(),j=0;a.extend(b,function(){function c(a,b){return"string"==typeof a?(this.exception=new Error(b||""),this.exception.name=a):a?this.exception=a:this.exception=new Error("Error"),this}var d,e=Array.prototype.slice;d={create:function(){var c=function(){if(f(c,arguments),c.exception)throw c.exception;return"number"==typeof c.returnArgAt?arguments[c.returnArgAt]:c.returnThis?this:c.returnValue};c.id="stub#"+j++;var d=c;return c=a.spy.create(c),c.func=d,c.callArgAts=[],c.callbackArguments=[],c.callbackContexts=[],c.callArgProps=[],a.extend(c,b),c._create=a.stub.create,c.displayName="stub",c.toString=a.functionToString,c},returns:function(a){return this.returnValue=a,this},returnsArg:function(a){if("number"!=typeof a)throw new TypeError("argument index is not number");return this.returnArgAt=a,this},returnsThis:function(){return this.returnThis=!0,this},"throws":c,throwsException:c,callsArg:function(a){if("number"!=typeof a)throw new TypeError("argument index is not number");return this.callArgAts.push(a),this.callbackArguments.push([]),this.callbackContexts.push(void 0),this.callArgProps.push(void 0),this},callsArgOn:function(a,b){if("number"!=typeof a)throw new TypeError("argument index is not number");if("object"!=typeof b)throw new TypeError("argument context is not an object");return this.callArgAts.push(a),this.callbackArguments.push([]),this.callbackContexts.push(b),this.callArgProps.push(void 0),this},callsArgWith:function(a){if("number"!=typeof a)throw new TypeError("argument index is not number");return this.callArgAts.push(a),this.callbackArguments.push(e.call(arguments,1)),this.callbackContexts.push(void 0),this.callArgProps.push(void 0),this},callsArgOnWith:function(a,b){if("number"!=typeof a)throw new TypeError("argument index is not number");if("object"!=typeof b)throw new TypeError("argument context is not an object");return this.callArgAts.push(a),this.callbackArguments.push(e.call(arguments,2)),this.callbackContexts.push(b),this.callArgProps.push(void 0),this},yields:function(){return this.callArgAts.push(-1),this.callbackArguments.push(e.call(arguments,0)),this.callbackContexts.push(void 0),this.callArgProps.push(void 0),this},yieldsOn:function(a){if("object"!=typeof a)throw new TypeError("argument context is not an object");return this.callArgAts.push(-1),this.callbackArguments.push(e.call(arguments,1)),this.callbackContexts.push(a),this.callArgProps.push(void 0),this},yieldsTo:function(a){return this.callArgAts.push(-1),this.callbackArguments.push(e.call(arguments,1)),this.callbackContexts.push(void 0),this.callArgProps.push(a),this},yieldsToOn:function(a,b){if("object"!=typeof b)throw new TypeError("argument context is not an object");return this.callArgAts.push(-1),this.callbackArguments.push(e.call(arguments,2)),this.callbackContexts.push(b),this.callArgProps.push(a),this}};for(var g in d)d.hasOwnProperty(g)&&g.match(/^(callsArg|yields|thenYields$)/)&&!g.match(/Async/)&&(d[g+"Async"]=function(a){return function(){return this.callbackAsync=!0,this[a].apply(this,arguments)}}(g));return d}()),g?module.exports=b:a.stub=b}}("object"==typeof sinon&&sinon||null),function(a){function b(c){return c?b.create(c):a.expectation.create("Anonymous mock")}var c="object"==typeof module&&"function"==typeof require,d=[].push;if(!a&&c&&(a=require("../sinon")),a){a.mock=b,a.extend(b,function(){function c(a,b){if(a)for(var c=0,d=a.length;c<d;c+=1)b(a[c])}return{create:function(c){if(!c)throw new TypeError("object is null");var d=a.extend({},b);return d.object=c,delete d.create,d},expects:function(b){if(!b)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[]),!this.expectations[b]){this.expectations[b]=[];var c=this;a.wrapMethod(this.object,b,function(){return c.invokeMethod(b,this,arguments)}),d.call(this.proxies,b)}var e=a.expectation.create(b);return d.call(this.expectations[b],e),e},restore:function(){var a=this.object;c(this.proxies,function(b){"function"==typeof a[b].restore&&a[b].restore()})},verify:function(){var b=this.expectations||{},e=[],f=[];return c(this.proxies,function(a){c(b[a],function(a){a.met()?d.call(f,a.toString()):d.call(e,a.toString())})}),this.restore(),e.length>0?a.expectation.fail(e.concat(f).join("\n")):a.expectation.pass(e.concat(f).join("\n")),!0},invokeMethod:function(b,c,e){var f,g=this.expectations&&this.expectations[b],h=g&&g.length||0;for(f=0;f<h;f+=1)if(!g[f].met()&&g[f].allowsCall(c,e))return g[f].apply(c,e);var i,j=[],k=0;for(f=0;f<h;f+=1)g[f].allowsCall(c,e)?i=i||g[f]:k+=1,d.call(j,"    "+g[f].toString());return 0===k?i.apply(c,e):(j.unshift("Unexpected call: "+a.spyCall.toString.call({proxy:b,args:e})),void a.expectation.fail(j.join("\n")))}}}());var e=a.timesInWords;a.expectation=function(){function b(a){return 0==a?"never called":"called "+e(a)}function c(a){var b=a.minCalls,c=a.maxCalls;if("number"==typeof b&&"number"==typeof c){var d=e(b);return b!=c&&(d="at least "+d+" and at most "+e(c)),d}return"number"==typeof b?"at least "+e(b):"at most "+e(c)}function f(a){var b="number"==typeof a.minCalls;return!b||a.callCount>=a.minCalls}function g(a){return"number"==typeof a.maxCalls&&a.callCount==a.maxCalls}var h=Array.prototype.slice,i=a.spy.invoke;return{minCalls:1,maxCalls:1,create:function(b){var c=a.extend(a.stub.create(),a.expectation);return delete c.create,c.method=b,c},invoke:function(a,b,c){return this.verifyCallAllowed(b,c),i.apply(this,arguments)},atLeast:function(a){if("number"!=typeof a)throw new TypeError("'"+a+"' is not number");return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=a,this},atMost:function(a){if("number"!=typeof a)throw new TypeError("'"+a+"' is not number");return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=a,this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(a){if("number"!=typeof a)throw new TypeError("'"+a+"' is not a number");return this.atLeast(a),this.atMost(a)},met:function(){return!this.failed&&f(this)},verifyCallAllowed:function(b,c){if(g(this)&&(this.failed=!0,a.expectation.fail(this.method+" already called "+e(this.maxCalls))),"expectedThis"in this&&this.expectedThis!==b&&a.expectation.fail(this.method+" called with "+b+" as thisValue, expected "+this.expectedThis),"expectedArguments"in this){c||a.expectation.fail(this.method+" received no arguments, expected "+a.format(this.expectedArguments)),c.length<this.expectedArguments.length&&a.expectation.fail(this.method+" received too few arguments ("+a.format(c)+"), expected "+a.format(this.expectedArguments)),this.expectsExactArgCount&&c.length!=this.expectedArguments.length&&a.expectation.fail(this.method+" received too many arguments ("+a.format(c)+"), expected "+a.format(this.expectedArguments));for(var d=0,f=this.expectedArguments.length;d<f;d+=1)a.deepEqual(this.expectedArguments[d],c[d])||a.expectation.fail(this.method+" received wrong arguments "+a.format(c)+", expected "+a.format(this.expectedArguments))}},allowsCall:function(b,c){if(this.met()&&g(this))return!1;if("expectedThis"in this&&this.expectedThis!==b)return!1;if(!("expectedArguments"in this))return!0;if(c=c||[],c.length<this.expectedArguments.length)return!1;if(this.expectsExactArgCount&&c.length!=this.expectedArguments.length)return!1;for(var d=0,e=this.expectedArguments.length;d<e;d+=1)if(!a.deepEqual(this.expectedArguments[d],c[d]))return!1;return!0},withArgs:function(){return this.expectedArguments=h.call(arguments),this},withExactArgs:function(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function(a){return this.expectedThis=a,this},toString:function(){var e=(this.expectedArguments||[]).slice();this.expectsExactArgCount||d.call(e,"[...]");var f=a.spyCall.toString.call({proxy:this.method,args:e}),g=f.replace(", [...","[, ...")+" "+c(this);return this.met()?"Expectation met: "+g:"Expected "+g+" ("+b(this.callCount)+")"},verify:function(){return this.met()?a.expectation.pass(this.toString()):a.expectation.fail(this.toString()),!0},pass:function(b){a.assert.pass(b)},fail:function(a){var b=new Error(a);throw b.name="ExpectationError",b}}}(),c?module.exports=b:a.mock=b}}("object"==typeof sinon&&sinon||null),function(a){function b(a){return a.fakes||(a.fakes=[]),a.fakes}function c(a,c){for(var d=b(a),e=0,f=d.length;e<f;e+=1)"function"==typeof d[e][c]&&d[e][c]()}function d(a){for(var c=b(a),d=0;d<c.length;)c.splice(d,1)}var e="object"==typeof module&&"function"==typeof require,f=[].push,g=Object.prototype.hasOwnProperty;if(!a&&e&&(a=require("../sinon")),a){var h={verify:function(){c(this,"verify")},restore:function(){c(this,"restore"),d(this)},verifyAndRestore:function(){var a;try{this.verify()}catch(b){a=b}if(this.restore(),a)throw a},add:function(a){return f.call(b(this),a),a},spy:function(){return this.add(a.spy.apply(a,arguments))},stub:function(b,c,d){if(c){var e=b[c];if("function"!=typeof e){if(!g.call(b,c))throw new TypeError("Cannot stub non-existent own property "+c);return b[c]=d,this.add({restore:function(){b[c]=e}})}}if(!c&&b&&"object"==typeof b){var f=a.stub.apply(a,arguments);for(var h in f)"function"==typeof f[h]&&this.add(f[h]);return f}return this.add(a.stub.apply(a,arguments))},mock:function(){return this.add(a.mock.apply(a,arguments))},inject:function(a){var b=this;return a.spy=function(){return b.spy.apply(b,arguments)},a.stub=function(){return b.stub.apply(b,arguments)},a.mock=function(){return b.mock.apply(b,arguments)},a}};e?module.exports=h:a.collection=h}}("object"==typeof sinon&&sinon||null),"undefined"==typeof sinon)var sinon={};if(function(global){function addTimer(a,b){if(0===a.length)throw new Error("Function requires at least 1 parameter");var c=id++,d=a[1]||0;return this.timeouts||(this.timeouts={}),this.timeouts[c]={id:c,func:a[0],callAt:this.now+d,invokeArgs:Array.prototype.slice.call(a,2)},b===!0&&(this.timeouts[c].interval=d),c}function parseTime(a){if(!a)return 0;var b,c=a.split(":"),d=c.length,e=d,f=0;if(d>3||!/^(\d\d:){0,2}\d\d?$/.test(a))throw new Error("tick only understands numbers and 'h:m:s'");for(;e--;){if(b=parseInt(c[e],10),b>=60)throw new Error("Invalid time "+a);f+=b*Math.pow(60,d-e-1)}return 1e3*f}function createObject(a){var b;if(Object.create)b=Object.create(a);else{var c=function(){};c.prototype=a,b=new c}return b.Date.clock=b,b}function mirrorDateProperties(a,b){return b.now?a.now=function(){return a.clock.now}:delete a.now,b.toSource?a.toSource=function(){return b.toSource()}:delete a.toSource,a.toString=function(){return b.toString()},a.prototype=b.prototype,a.parse=b.parse,a.UTC=b.UTC,a.prototype.toUTCString=b.prototype.toUTCString,a}function restore(){for(var a,b=0,c=this.methods.length;b<c;b++)a=this.methods[b],global[a].hadOwnProperty?global[a]=this["_"+a]:delete global[a];this.methods=[]}function stubGlobal(a,b){if(b[a].hadOwnProperty=Object.prototype.hasOwnProperty.call(global,a),b["_"+a]=global[a],"Date"==a){var c=mirrorDateProperties(b[a],global[a]);global[a]=c}else{global[a]=function(){return b[a].apply(b,arguments)};for(var d in b[a])b[a].hasOwnProperty(d)&&(global[a][d]=b[a][d])}global[a].clock=b}var id=1;sinon.clock={now:0,create:function(a){var b=createObject(this);if("number"==typeof a&&(b.now=a),a&&"object"==typeof a)throw new TypeError("now should be milliseconds since UNIX epoch");return b},setTimeout:function(a,b){return addTimer.call(this,arguments,!1)},clearTimeout:function(a){this.timeouts||(this.timeouts=[]),a in this.timeouts&&delete this.timeouts[a]},setInterval:function(a,b){return addTimer.call(this,arguments,!0)},clearInterval:function(a){this.clearTimeout(a)},tick:function(a){a="number"==typeof a?a:parseTime(a);for(var b,c=this.now,d=this.now+a,e=this.now,f=this.firstTimerInRange(c,d);f&&c<=d;){if(this.timeouts[f.id]){c=this.now=f.callAt;try{this.callTimer(f)}catch(g){b=b||g}}f=this.firstTimerInRange(e,d),e=c}if(this.now=d,b)throw b},firstTimerInRange:function(a,b){var c,d,e;for(var f in this.timeouts)if(this.timeouts.hasOwnProperty(f)){if(this.timeouts[f].callAt<a||this.timeouts[f].callAt>b)continue;(!d||this.timeouts[f].callAt<d)&&(e=this.timeouts[f],d=this.timeouts[f].callAt,c={func:this.timeouts[f].func,callAt:this.timeouts[f].callAt,interval:this.timeouts[f].interval,id:this.timeouts[f].id,invokeArgs:this.timeouts[f].invokeArgs})}return c||null},callTimer:function(timer){"number"==typeof timer.interval?this.timeouts[timer.id].callAt+=timer.interval:delete this.timeouts[timer.id];try{"function"==typeof timer.func?timer.func.apply(null,timer.invokeArgs):eval(timer.func)}catch(e){var exception=e}if(this.timeouts[timer.id]){if(exception)throw exception}else if(exception)throw exception},reset:function(){this.timeouts={}},Date:function(){function a(c,d,e,f,g,h,i){switch(arguments.length){case 0:return new b(a.clock.now);case 1:return new b(c);case 2:return new b(c,d);case 3:return new b(c,d,e);case 4:return new b(c,d,e,f);case 5:return new b(c,d,e,f,g);case 6:return new b(c,d,e,f,g,h);default:return new b(c,d,e,f,g,h,i)}}var b=Date;return mirrorDateProperties(a,b)}()};var methods=["Date","setTimeout","setInterval","clearTimeout","clearInterval"];sinon.useFakeTimers=function(a){var b=sinon.clock.create(a);b.restore=restore,b.methods=Array.prototype.slice.call(arguments,"number"==typeof a?1:0),0===b.methods.length&&(b.methods=methods);for(var c=0,d=b.methods.length;c<d;c++)stubGlobal(b.methods[c],b);return b}}("undefined"!=typeof global&&"function"!=typeof global?global:this),sinon.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,Date:Date},"object"==typeof module&&"function"==typeof require&&(module.exports=sinon),"undefined"==typeof sinon&&(this.sinon={}),function(){var a=[].push;sinon.Event=function(a,b,c){this.initEvent(a,b,c)},sinon.Event.prototype={initEvent:function(a,b,c){this.type=a,this.bubbles=b,this.cancelable=c},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}},sinon.EventTarget={addEventListener:function(b,c,d){this.eventListeners=this.eventListeners||{},this.eventListeners[b]=this.eventListeners[b]||[],a.call(this.eventListeners[b],c)},removeEventListener:function(a,b,c){for(var d=this.eventListeners&&this.eventListeners[a]||[],e=0,f=d.length;e<f;++e)if(d[e]==b)return d.splice(e,1)},dispatchEvent:function(a){for(var b=a.type,c=this.eventListeners&&this.eventListeners[b]||[],d=0;d<c.length;d++)"function"==typeof c[d]?c[d].call(this,a):c[d].handleEvent(a);return!!a.defaultPrevented}}}(),"undefined"==typeof sinon&&(this.sinon={}),sinon.xhr={XMLHttpRequest:this.XMLHttpRequest},function(a){function b(){this.readyState=b.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="","function"==typeof b.onCreate&&b.onCreate(this)}function c(a){if(a.readyState!==b.OPENED)throw new Error("INVALID_STATE_ERR");if(a.sendFlag)throw new Error("INVALID_STATE_ERR")}function d(a,b){if(a)for(var c=0,d=a.length;c<d;c+=1)b(a[c])}function e(a,b){for(var c=0;c<a.length;c++)if(b(a[c])===!0)return!0;return!1}function f(a){if(a.readyState==b.DONE)throw new Error("Request done")}function g(a){if(a.async&&a.readyState!=b.HEADERS_RECEIVED)throw new Error("No headers received")}function h(a){if("string"!=typeof a){var b=new Error("Attempted to respond to fake XMLHttpRequest with "+a+", which is not a string.");throw b.name="InvalidBodyException",b}}var i=sinon.xhr;i.GlobalXMLHttpRequest=a.XMLHttpRequest,i.GlobalActiveXObject=a.ActiveXObject,i.supportsActiveX="undefined"!=typeof i.GlobalActiveXObject,i.supportsXHR="undefined"!=typeof i.GlobalXMLHttpRequest,i.workingXHR=i.supportsXHR?i.GlobalXMLHttpRequest:!!i.supportsActiveX&&function(){return new i.GlobalActiveXObject("MSXML2.XMLHTTP.3.0")};var j={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0},k=function(a,b,c){switch(c.length){case 0:return a[b]();case 1:return a[b](c[0]);case 2:return a[b](c[0],c[1]);case 3:return a[b](c[0],c[1],c[2]);case 4:return a[b](c[0],c[1],c[2],c[3]);case 5:return a[b](c[0],c[1],c[2],c[3],c[4])}};b.filters=[],b.addFilter=function(a){this.filters.push(a)};var l=/MSIE 6/;b.defake=function(a,c){var e=new sinon.xhr.workingXHR;d(["open","setRequestHeader","send","abort","getResponseHeader","getAllResponseHeaders","addEventListener","overrideMimeType","removeEventListener"],function(b){a[b]=function(){return k(e,b,arguments)}});var f=function(b){d(b,function(b){try{a[b]=e[b]}catch(c){if(!l.test(navigator.userAgent))throw c}})},g=function(){a.readyState=e.readyState,e.readyState>=b.HEADERS_RECEIVED&&f(["status","statusText"]),e.readyState>=b.LOADING&&f(["responseText"]),e.readyState===b.DONE&&f(["responseXML"]),a.onreadystatechange&&a.onreadystatechange.call(a)};if(e.addEventListener){for(var h in a.eventListeners)a.eventListeners.hasOwnProperty(h)&&d(a.eventListeners[h],function(a){e.addEventListener(h,a)});e.addEventListener("readystatechange",g)}else e.onreadystatechange=g;k(e,"open",c)},b.useFilters=!1,sinon.extend(b.prototype,sinon.EventTarget,{async:!0,open:function(a,c,d,f,g){if(this.method=a,this.url=c,this.async="boolean"!=typeof d||d,this.username=f,this.password=g,this.responseText=null,this.responseXML=null,this.requestHeaders={},this.sendFlag=!1,sinon.FakeXMLHttpRequest.useFilters===!0){var h=arguments,i=e(b.filters,function(a){return a.apply(this,h)});if(i)return sinon.FakeXMLHttpRequest.defake(this,arguments)}this.readyStateChange(b.OPENED)},readyStateChange:function(a){if(this.readyState=a,"function"==typeof this.onreadystatechange)try{this.onreadystatechange()}catch(b){sinon.logError("Fake XHR onreadystatechange handler",b)}this.dispatchEvent(new sinon.Event("readystatechange"))},setRequestHeader:function(a,b){if(c(this),j[a]||/^(Sec-|Proxy-)/.test(a))throw new Error('Refused to set unsafe header "'+a+'"');this.requestHeaders[a]?this.requestHeaders[a]+=","+b:this.requestHeaders[a]=b},setResponseHeaders:function(a){this.responseHeaders={};for(var c in a)a.hasOwnProperty(c)&&(this.responseHeaders[c]=a[c]);this.async&&this.readyStateChange(b.HEADERS_RECEIVED)},send:function(a){if(c(this),!/^(get|head)$/i.test(this.method)){if(this.requestHeaders["Content-Type"]){var d=this.requestHeaders["Content-Type"].split(";");this.requestHeaders["Content-Type"]=d[0]+";charset=utf-8"}else this.requestHeaders["Content-Type"]="text/plain;charset=utf-8";this.requestBody=a}this.errorFlag=!1,this.sendFlag=this.async,this.readyStateChange(b.OPENED),"function"==typeof this.onSend&&this.onSend(this)},abort:function(){this.aborted=!0,this.responseText=null,this.errorFlag=!0,this.requestHeaders={},this.readyState>sinon.FakeXMLHttpRequest.UNSENT&&this.sendFlag&&(this.readyStateChange(sinon.FakeXMLHttpRequest.DONE),this.sendFlag=!1),this.readyState=sinon.FakeXMLHttpRequest.UNSENT},getResponseHeader:function(a){if(this.readyState<b.HEADERS_RECEIVED)return null;if(/^Set-Cookie2?$/i.test(a))return null;a=a.toLowerCase();for(var c in this.responseHeaders)if(c.toLowerCase()==a)return this.responseHeaders[c];return null},getAllResponseHeaders:function(){if(this.readyState<b.HEADERS_RECEIVED)return"";var a="";for(var c in this.responseHeaders)this.responseHeaders.hasOwnProperty(c)&&!/^Set-Cookie2?$/i.test(c)&&(a+=c+": "+this.responseHeaders[c]+"\r\n");return a},setResponseBody:function(a){f(this),g(this),h(a);var c=this.chunkSize||10,d=0;this.responseText="";do this.async&&this.readyStateChange(b.LOADING),this.responseText+=a.substring(d,d+c),d+=c;while(d<a.length);var e=this.getResponseHeader("Content-Type");if(this.responseText&&(!e||/(text\/xml)|(application\/xml)|(\+xml)/.test(e)))try{this.responseXML=b.parseXML(this.responseText)}catch(i){}this.async?this.readyStateChange(b.DONE):this.readyState=b.DONE},respond:function(a,c,d){this.setResponseHeaders(c||{}),this.status="number"==typeof a?a:200,this.statusText=b.statusCodes[this.status],this.setResponseBody(d||"")}}),sinon.extend(b,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),b.parseXML=function(a){var b;if("undefined"!=typeof DOMParser){var c=new DOMParser;b=c.parseFromString(a,"text/xml")}else b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);return b},b.statusCodes={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",
408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},sinon.useFakeXMLHttpRequest=function(){return sinon.FakeXMLHttpRequest.restore=function(b){i.supportsXHR&&(a.XMLHttpRequest=i.GlobalXMLHttpRequest),i.supportsActiveX&&(a.ActiveXObject=i.GlobalActiveXObject),delete sinon.FakeXMLHttpRequest.restore,b!==!0&&delete sinon.FakeXMLHttpRequest.onCreate},i.supportsXHR&&(a.XMLHttpRequest=sinon.FakeXMLHttpRequest),i.supportsActiveX&&(a.ActiveXObject=function(a){return"Microsoft.XMLHTTP"==a||/^Msxml2\.XMLHTTP/i.test(a)?new sinon.FakeXMLHttpRequest:new i.GlobalActiveXObject(a)}),sinon.FakeXMLHttpRequest},sinon.FakeXMLHttpRequest=b}(this),"object"==typeof module&&"function"==typeof require&&(module.exports=sinon),"undefined"==typeof sinon)var sinon={};if(sinon.fakeServer=function(){function a(){}function b(b){return a.prototype=b,new a}function c(a){var b=a;if("[object Array]"!=Object.prototype.toString.call(a)&&(b=[200,{},a]),"string"!=typeof b[2])throw new TypeError("Fake server response body should be string, but was "+typeof b[2]);return b}function d(a,b,c){var d=a.method,e=!d||d.toLowerCase()==b.toLowerCase(),f=a.url,g=!f||f==c||"function"==typeof f.test&&f.test(c);return e&&g}function e(a,b){var c=(this.getHTTPMethod(b),b.url);if(/^https?:\/\//.test(c)&&!h.test(c)||(c=c.replace(h,"")),d(a,this.getHTTPMethod(b),c)){if("function"==typeof a.response){var e=a.url,f=[b].concat(e?c.match(e).slice(1):[]);return a.response.apply(a,f)}return!0}return!1}var f=[].push,g="undefined"!=typeof window?window.location:{},h=new RegExp("^"+g.protocol+"//"+g.host);return{create:function(){var a=b(this);return this.xhr=sinon.useFakeXMLHttpRequest(),a.requests=[],this.xhr.onCreate=function(b){a.addRequest(b)},a},addRequest:function(a){var b=this;f.call(this.requests,a),a.onSend=function(){b.handleRequest(this)},this.autoRespond&&!this.responding&&(setTimeout(function(){b.responding=!1,b.respond()},this.autoRespondAfter||10),this.responding=!0)},getHTTPMethod:function(a){if(this.fakeHTTPMethods&&/post/i.test(a.method)){var b=(a.requestBody||"").match(/_method=([^\b;]+)/);return b?b[1]:a.method}return a.method},handleRequest:function(a){a.async?(this.queue||(this.queue=[]),f.call(this.queue,a)):this.processRequest(a)},respondWith:function(a,b,d){return 1==arguments.length&&"function"!=typeof a?void(this.response=c(a)):(this.responses||(this.responses=[]),1==arguments.length&&(d=a,b=a=null),2==arguments.length&&(d=b,b=a,a=null),void f.call(this.responses,{method:a,url:b,response:"function"==typeof d?d:c(d)}))},respond:function(){arguments.length>0&&this.respondWith.apply(this,arguments);for(var a,b=this.queue||[];a=b.shift();)this.processRequest(a)},processRequest:function(a){try{if(a.aborted)return;var b=this.response||[404,{},""];if(this.responses)for(var c=0,d=this.responses.length;c<d;c++)if(e.call(this,this.responses[c],a)){b=this.responses[c].response;break}4!=a.readyState&&a.respond(b[0],b[1],b[2])}catch(f){sinon.logError("Fake server request processing",f)}},restore:function(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments)}}}(),"object"==typeof module&&"function"==typeof require&&(module.exports=sinon),function(){function a(){}a.prototype=sinon.fakeServer,sinon.fakeServerWithClock=new a,sinon.fakeServerWithClock.addRequest=function(a){if(a.async&&("object"==typeof setTimeout.clock?this.clock=setTimeout.clock:(this.clock=sinon.useFakeTimers(),this.resetClock=!0),!this.longestTimeout)){var b=this.clock.setTimeout,c=this.clock.setInterval,d=this;this.clock.setTimeout=function(a,c){return d.longestTimeout=Math.max(c,d.longestTimeout||0),b.apply(this,arguments)},this.clock.setInterval=function(a,b){return d.longestTimeout=Math.max(b,d.longestTimeout||0),c.apply(this,arguments)}}return sinon.fakeServer.addRequest.call(this,a)},sinon.fakeServerWithClock.respond=function(){var a=sinon.fakeServer.respond.apply(this,arguments);return this.clock&&(this.clock.tick(this.longestTimeout||0),this.longestTimeout=0,this.resetClock&&(this.clock.restore(),this.resetClock=!1)),a},sinon.fakeServerWithClock.restore=function(){return this.clock&&this.clock.restore(),sinon.fakeServer.restore.apply(this,arguments)}}(),"object"==typeof module&&"function"==typeof require){var sinon=require("../sinon");sinon.extend(sinon,require("./util/fake_timers"))}return function(){function a(a,b,d,e){e&&(b.injectInto?b.injectInto[d]=e:c.call(a.args,e))}function b(a){var b=sinon.create(sinon.sandbox);return a.useFakeServer&&("object"==typeof a.useFakeServer&&(b.serverPrototype=a.useFakeServer),b.useFakeServer()),a.useFakeTimers&&("object"==typeof a.useFakeTimers?b.useFakeTimers.apply(b,a.useFakeTimers):b.useFakeTimers()),b}var c=[].push;sinon.sandbox=sinon.extend(sinon.create(sinon.collection),{useFakeTimers:function(){return this.clock=sinon.useFakeTimers.apply(sinon,arguments),this.add(this.clock)},serverPrototype:sinon.fakeServer,useFakeServer:function(){var a=this.serverPrototype||sinon.fakeServer;return a&&a.create?(this.server=a.create(),this.add(this.server)):null},inject:function(a){return sinon.collection.inject.call(this,a),this.clock&&(a.clock=this.clock),this.server&&(a.server=this.server,a.requests=this.server.requests),a},create:function(c){if(!c)return sinon.create(sinon.sandbox);var d=b(c);d.args=d.args||[];var e,f,g=d.inject({});if(c.properties)for(var h=0,i=c.properties.length;h<i;h++)e=c.properties[h],f=g[e]||"sandbox"==e&&d,a(d,c,e,f);else a(d,c,"sandbox",f);return d}}),sinon.sandbox.useFakeXMLHttpRequest=sinon.sandbox.useFakeServer,"object"==typeof module&&"function"==typeof require&&(module.exports=sinon.sandbox)}(),function(a){function b(b){var c=typeof b;if("function"!=c)throw new TypeError("sinon.test needs to wrap a test function, got "+c);return function(){var c=a.getConfig(a.config);c.injectInto=c.injectIntoThis&&this||c.injectInto;var d,e,f=a.sandbox.create(c),g=Array.prototype.slice.call(arguments).concat(f.args);try{e=b.apply(this,g)}catch(h){d=h}if("undefined"!=typeof d)throw f.restore(),d;return f.verifyAndRestore(),e}}var c="object"==typeof module&&"function"==typeof require;!a&&c&&(a=require("../sinon")),a&&(b.config={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},c?module.exports=b:a.test=b)}("object"==typeof sinon&&sinon||null),function(a){function b(a,b,c){return function(){b&&b.apply(this,arguments);var d,e;try{e=a.apply(this,arguments)}catch(f){d=f}if(c&&c.apply(this,arguments),d)throw d;return e}}function c(c,d){if(!c||"object"!=typeof c)throw new TypeError("sinon.testCase needs an object with test functions");d=d||"test";var e,f,g,h=new RegExp("^"+d),i={},j=c.setUp,k=c.tearDown;for(e in c)if(c.hasOwnProperty(e)){if(f=c[e],/^(setUp|tearDown)$/.test(e))continue;"function"==typeof f&&h.test(e)?(g=f,(j||k)&&(g=b(f,j,k)),i[e]=a.test(g)):i[e]=c[e]}return i}var d="object"==typeof module&&"function"==typeof require;!a&&d&&(a=require("../sinon")),a&&Object.prototype.hasOwnProperty&&(d?module.exports=c:a.testCase=c)}("object"==typeof sinon&&sinon||null),function(a,b){function c(){for(var a,b=0,c=arguments.length;b<c;++b)a=arguments[b],a||g.fail("fake is not a spy"),"function"!=typeof a&&g.fail(a+" is not a function"),"function"!=typeof a.getCall&&g.fail(a+" is not stubbed")}function d(a,c){a=a||b;var d=a.fail||g.fail;d.call(a,c)}function e(a,b,e){2==arguments.length&&(e=b,b=a),g[a]=function(f){c(f);var h=i.call(arguments,1),j=!1;j="function"==typeof b?!b(f):"function"==typeof f[b]?!f[b].apply(f,h):!f[b],j?d(this,f.printf.apply(f,[e].concat(h))):g.pass(a)}}function f(a,b){return!a||/^fail/.test(b)?b:a+b.slice(0,1).toUpperCase()+b.slice(1)}var g,h="object"==typeof module&&"function"==typeof require,i=Array.prototype.slice;!a&&h&&(a=require("../sinon")),a&&(g={failException:"AssertError",fail:function(a){var b=new Error(a);throw b.name=this.failException||g.failException,b},pass:function(a){},callOrder:function(){c.apply(null,arguments);var b="",e="";if(a.calledInOrder(arguments))g.pass("callOrder");else{try{b=[].join.call(arguments,", "),e=a.orderByFirstCall(i.call(arguments)).join(", ")}catch(f){}d(this,"expected "+b+" to be called in order but were called as "+e)}},callCount:function(b,e){if(c(b),b.callCount!=e){var f="expected %n to be called "+a.timesInWords(e)+" but was called %c%C";d(this,b.printf(f))}else g.pass("callCount")},expose:function(a,b){if(!a)throw new TypeError("target is null or undefined");var c=b||{},d="undefined"==typeof c.prefix&&"assert"||c.prefix,e="undefined"==typeof c.includeFail||!!c.includeFail;for(var g in this)"export"==g||!e&&/^(fail)/.test(g)||(a[f(d,g)]=this[g]);return a}},e("called","expected %n to have been called at least once but was never called"),e("notCalled",function(a){return!a.called},"expected %n to not have been called but was called %c%C"),e("calledOnce","expected %n to be called once but was called %c%C"),e("calledTwice","expected %n to be called twice but was called %c%C"),e("calledThrice","expected %n to be called thrice but was called %c%C"),e("calledOn","expected %n to be called with %1 as this but was called with %t"),e("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),e("calledWithNew","expected %n to be called with new"),e("alwaysCalledWithNew","expected %n to always be called with new"),e("calledWith","expected %n to be called with arguments %*%C"),e("calledWithMatch","expected %n to be called with match %*%C"),e("alwaysCalledWith","expected %n to always be called with arguments %*%C"),e("alwaysCalledWithMatch","expected %n to always be called with match %*%C"),e("calledWithExactly","expected %n to be called with exact arguments %*%C"),e("alwaysCalledWithExactly","expected %n to always be called with exact arguments %*%C"),e("neverCalledWith","expected %n to never be called with arguments %*%C"),e("neverCalledWithMatch","expected %n to never be called with match %*%C"),e("threw","%n did not throw exception%C"),e("alwaysThrew","%n did not always throw exception%C"),h?module.exports=g:a.assert=g)}("object"==typeof sinon&&sinon||null,"undefined"!=typeof window?window:global),sinon}.call("undefined"!=typeof window&&window||{});!function(a){"use strict";"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):chai.use(a)}(function(a,b){"use strict";function c(a){return"function"==typeof a&&"function"==typeof a.getCall&&"function"==typeof a.calledWithExactly}function d(a){return 1===a?"once":2===a?"twice":3===a?"thrice":(a||0)+" times"}function e(a){return a&&c(a.proxy)}function f(a){if(!c(a._obj)&&!e(a._obj))throw new TypeError(b.inspect(a._obj)+" is not a spy or a call to a spy!")}function g(a,b,d,e,f){function g(b){return a.printf.apply(a,b)}var h=e?"always have ":"have ";return d=d||"",c(a.proxy)&&(a=a.proxy),{affirmative:g(["expected %n to "+h+b+d].concat(f)),negative:g(["expected %n to not "+h+b].concat(f))}}function h(c,d,e){b.addProperty(a.Assertion.prototype,c,function(){f(this);var a=g(this._obj,d,e,!1);this.assert(this._obj[c],a.affirmative,a.negative)})}function i(c,e,h){b.addMethod(a.Assertion.prototype,c,function(a){f(this);var b=g(this._obj,e,h,!1,[d(a)]);this.assert(this._obj[c]===a,b.affirmative,b.negative)})}function j(a,c,d){return function(){f(this);var e="always"+a[0].toUpperCase()+a.substring(1),h=b.flag(this,"always")&&"function"==typeof this._obj[e],i=h?e:a,j=g(this._obj,c,d,h,n.call(arguments));this.assert(this._obj[i].apply(this._obj,arguments),j.affirmative,j.negative)}}function k(c,d,e){var f=j(c,d,e);b.addProperty(a.Assertion.prototype,c,f)}function l(c,d,e,f){var g=j(d,e,f);b.addMethod(a.Assertion.prototype,c,g)}function m(a,b,c){l(a,a,b,c)}var n=Array.prototype.slice;b.addProperty(a.Assertion.prototype,"always",function(){b.flag(this,"always",!0)}),h("called","been called"," at least once, but it was never called"),i("callCount","been called exactly %1",", but it was called %c%C"),h("calledOnce","been called exactly once",", but it was called %c%C"),h("calledTwice","been called exactly twice",", but it was called %c%C"),h("calledThrice","been called exactly thrice",", but it was called %c%C"),k("calledWithNew","been called with new"),m("calledBefore","been called before %1"),m("calledAfter","been called after %1"),m("calledOn","been called with %1 as this",", but it was called with %t instead"),m("calledWith","been called with arguments %*","%C"),m("calledWithExactly","been called with exact arguments %*","%C"),m("calledWithMatch","been called with arguments matching %*","%C"),m("returned","returned %1"),l("thrown","threw","thrown %1")}),!function(){"use strict";var a,b,c,d,e,f,g,h,i=this,j=i.cardboard,k="undefined"!=typeof require,l="underbar",m=!1,n="http://localhost:1337",o={dev:n,prod:"http://bookstrap.hackreactor.com",api:"/api/v1/assessment/sprint"};if("undefined"!=typeof exports?(a=!1,"undefined"!=typeof module&&module.exports&&(m=!0)):a=!0,a){var p=i.document.createElement("iframe");p.src=o.prod,p.style.display="none",p.name="bookstrap",i.HTML_Reporter=i.mocha._reporter,i.cardboard=function(a){var b=new i.HTML_Reporter(a);a.on("end",function(){var a={failedTest:b.stats.failures,totalTest:b.stats.tests,type:"sprint",name:l};i.document.body.appendChild(p),setTimeout(function(){var b={data:a,secret:"catreactor",url:o.api};p.contentWindow.postMessage(b,o.prod)},7e3)})},i.cardboard.noConflict=function(){return i.cardboard=j,i.cardboard}}else{process.originalExit=process.exit;var q;k&&(c=require("request"),d=require("mocha").reporters.Dot,f=require("fs")),process.exit=function(a){c(q,function(){process.originalExit(a)})};try{g=f.readFileSync(".git/config","utf-8")}catch(r){}b=function(a){h=g.match(/(?!.*hackreactor)(github.com)\W*\w*/g)[0].split("/")[1],q={url:o.prod+o.api,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"}},e=new d(a),a.on("end",function(){var a={stats:{failedTest:e.stats.failures,totalTest:e.stats.tests,name:l,type:"sprint",user:h},secret:"catreactor"};q.body=JSON.stringify(a)})},m&&(exports=module.exports=b),exports.cardboard=b}}.call(this),function(){"use strict";mocha.setup({ui:"bdd",reporter:cardboard}),window.expect=chai.expect,window.onload=function(){window.mochaPhantomJS?mochaPhantomJS.run():mocha.run()};var a=Array.prototype.nativeMap,b=Array.prototype.indexOf,c=Array.prototype.forEach,d=Array.prototype.filter,e=Array.prototype.reduce,f=Array.prototype.every,g=Array.prototype.some;before(function(){Array.prototype.map=null,Array.prototype.indexOf=null,Array.prototype.forEach=null,Array.prototype.filter=null,Array.prototype.reduce=null,Array.prototype.every=null,Array.prototype.some=null}),after(function(){Array.prototype.map=a,Array.prototype.indexOf=b,Array.prototype.forEach=c,Array.prototype.filter=d,Array.prototype.reduce=e,Array.prototype.every=f,Array.prototype.some=g})}();